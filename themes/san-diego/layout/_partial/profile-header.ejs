<%
    const contactLinks = (site && site.data && site.data.contact_links) || [];
%>
<div class="profile-header" data-expanded="false">
    <div class="profile-photo-wrapper">
        <img src="/img/profilePhoto.jpeg" alt="Thomas Walichiewicz - Designer, Developer, Thinker" class="profile-photo">
    </div>
    <div class="profile-info">
        <h1 class="profile-name">
            <span class="desktop-only">Thomas<br/>Walichiewicz</span>
        </h1>
        <!-- Mobile compact header section -->
        <div class="mobile-compact-header mobile-only">
            <div class="mobile-compact-info">
                <div class="mobile-profile-photo">
                    <img src="/img/profilePhoto.jpeg" alt="Thomas Walichiewicz - Designer, Developer, Thinker" class="profile-photo">
                </div>
                <div class="mobile-profile-text">
                    <p class="profile-name mobile-compact-name">Thomas Walichiewicz</p>
                    <p class="profile-byline mobile-compact-byline">Designer, researcher, and relentless problem solver. Leading design at startups and established companies. Building thoughtful digital experiences.</p>
                </div>
            </div>
            <!-- Mobile buttons container -->
            <div class="mobile-buttons-container">
                <!-- Impact Report button -->
                <%- include('../../source/components/core/button/button', {
                    text: 'View impact report',
                    variant: 'default',
                    size: 'md',
                    className: 'mobile-impact-button',
                    attributes: {
                        onclick: 'openImpactModal()'
                    },
                    dataComponent: false // Don't auto-initialize since we have onclick
                }) %>
                <!-- Mobile contact button -->
                <%- include('../../source/components/core/button/button', {
                    text: 'Get in touch',
                    variant: 'default',
                    size: 'md',
                    className: 'mobile-contact-button',
                    attributes: {
                        onclick: 'openContactModal()'
                    },
                    dataComponent: false // Don't auto-initialize since we have onclick
                }) %>
            </div>
        </div>
        <!-- Desktop/tablet content (always visible) -->
        <div class="desktop-content mobile-hide no-external-indicators">
            <p class="profile-bio">Designer, researcher, and relentless problem solver. Leading design at startups and established companies. Building thoughtful digital experiences.</p>
            <div class="profile-stats-container">
                <div class="profile-stats" onclick="openImpactModal()" role="button" tabindex="0" aria-label="View impact report">
                    <div class="stat">
                        <span class="number">12</span>
                        <span class="label">Years pro</span>
                    </div>
                    <div class="stat">
                        <span class="number">30+</span>
                        <span class="label">Projects led</span>
                    </div>
                    <div class="stat">
                        <span class="number">40,000,000+</span>
                        <span class="label">Users impacted</span>
                    </div>
                </div>
                <div class="impact-report-chin">
                    <button class="impact-report-btn" onclick="openImpactModal(event)" aria-label="View full impact report">View impact report</button>
                </div>
            </div>
        </div>
    </div>
</div>
<% if (contactLinks.length) { %>
    <div class="desktop-contact-chin mobile-hide">
        <div class="contact-chin-inner">
            <% contactLinks.forEach((link) => {
                const isExternal = Boolean(link.external);
                const classNames = ['contact-chin-btn'];
                if (isExternal && link.no_external_indicator) {
                    classNames.push('no-external-indicators');
                }
            %>
                <a
                    href="<%= link.href %>"
                    class="<%= classNames.join(' ') %>"
                    aria-label="<%= link.aria_label || link.label %>"
                    data-label="<%= link.label %>"
                    <% if (isExternal) { %>target="_blank" rel="noopener"<% } %>
                >
                    <span class="contact-icon" aria-hidden="true">
                        <%- partial('_partial/contact-icon', { icon: link.id }) %>
                    </span>
                </a>
            <% }) %>
        </div>
    </div>
<% } %>
