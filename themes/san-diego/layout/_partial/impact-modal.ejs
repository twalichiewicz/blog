<!-- Impact Modal -->
<div id="impact-modal" class="impact-modal" style="display: none;">
    <div class="impact-modal-backdrop" onclick="closeImpactModal()"></div>
    <div class="impact-modal-sheet">
        <div class="impact-modal-header">
            <button class="impact-modal-close minimal-close" onclick="closeImpactModal()" aria-label="Close impact report">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M15 5L5 15M5 5l10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <div class="impact-modal-title">Design Impact Report 2025</div>
            <button class="impact-modal-party-mode" onclick="togglePartyMode()" aria-label="Toggle party mode" title="Activate party mode">
                <svg class="party-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
                <span class="party-text">Party</span>
                <audio id="impact-audio" loop>
                    <source src="<%- url_for('/media/deepHouse.mp3') %>" type="audio/mpeg">
                </audio>
            </button>
        </div>
        <div class="impact-grid">
            <!-- BUSINESS IMPACT Section -->
            <div class="impact-section" data-section="financial">
                <div class="section-label">BUSINESS IMPACT</div>
                
                <!-- Total Impact - Large tile spanning 3x2 -->
                <div class="impact-tile tile-large tile-revenue" data-animate="counter" style="grid-column: span 3; grid-row: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">
									<span class="unit">$</span>
                                    <span class="counter" data-target="40">0</span>
                                    <span class="unit">M+</span>
                                </div>
                                <div class="tile-label">ARR Impacted</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-funnel" aria-hidden="true">
                            <svg viewBox="0 0 120 44" role="presentation" focusable="false" preserveAspectRatio="none">
                                <path class="viz-funnel-step" d="M10 2H110L92 14H28L10 2Z" />
                                <path class="viz-funnel-step" d="M28 17H92L80 29H40L28 17Z" />
                                <path class="viz-funnel-step" d="M40 32H80L70 42H50L40 32Z" />
                            </svg>
                        </div>
                        <div class="tile-detail">Cash‑sweep flows: +18–35% conversion</div>
                    </div>
                </div>

                <!-- Annual Savings - Medium tile -->
                <div class="impact-tile tile-medium tile-savings" data-animate="none" style="grid-column: span 3;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">
                                    <span class="unit">$</span>
                                    <span class="counter">3–5</span>
                                    <span class="unit">M/yr</span>
                                </div>
                                <div class="tile-label">Cost Savings Delivered</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-range" aria-hidden="true" style="--viz-start: 42%; --viz-end: 78%;">
                            <div class="viz-track">
                                <span class="viz-band"></span>
                                <span class="viz-dot viz-dot-start"></span>
                                <span class="viz-dot viz-dot-end"></span>
                            </div>
                        </div>
                        <div class="tile-detail">Annual savings in development costs</div>
                    </div>
                </div>

                <!-- Conversion Lift - Medium tile -->
                <div class="impact-tile tile-medium tile-hours" data-animate="none" style="grid-column: span 3;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">
                                    <span class="unit">+</span>
                                    <span class="counter">18–35</span>
                                    <span class="unit">%</span>
                                </div>
                                <div class="tile-label">Conversion Lift</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-range" aria-hidden="true" style="--viz-start: 45%; --viz-end: 88%;">
                            <div class="viz-track">
                                <span class="viz-band"></span>
                                <span class="viz-dot viz-dot-start"></span>
                                <span class="viz-dot viz-dot-end"></span>
                            </div>
                        </div>
                        <div class="tile-detail">Fintech cash‑sweep flow redesign</div>
                    </div>
                </div>
            </div>

            <!-- AI/ML DELIVERY Section -->
            <div class="impact-section" data-section="efficiency">
                <div class="section-label">AI/ML DELIVERY</div>
                
                <!-- Process Acceleration - Medium tile -->
                <div class="impact-tile tile-medium tile-efficiency" data-animate="none" style="grid-column: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">Months→Weeks</div>
                                <div class="tile-label">Model Deploy Cycle</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-bars" aria-hidden="true">
                            <div class="viz-row">
                                <span class="viz-tag">Before</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 100%;"></span></span>
                                <span class="viz-val">Months</span>
                            </div>
                            <div class="viz-row">
                                <span class="viz-tag">After</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 65%;"></span></span>
                                <span class="viz-val">Weeks</span>
                            </div>
                        </div>
                        <div class="tile-detail">−35% model→production time</div>
                    </div>
                </div>

                <!-- Support Reduction - Large tile -->
                <div class="impact-tile tile-large tile-support" data-animate="wave" style="grid-column: span 2; grid-row: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">85%</div>
                                <div class="tile-label">Support Ticket Reduction</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-donut" aria-hidden="true">
                            <div class="chart-container">
                                <svg class="donut-chart" viewBox="0 0 42 42" role="presentation" focusable="false">
                                    <g class="donut">
                                        <circle class="donut-ring" cx="21" cy="21" r="15.9155" fill="transparent" stroke-width="3"></circle>
                                        <circle class="donut-segment" cx="21" cy="21" r="15.9155" fill="transparent" stroke="var(--accent-color)" stroke-width="3" stroke-linecap="round" stroke-dasharray="85 100" style="stroke-dasharray: 0 100;"></circle>
                                    </g>
                                </svg>
                            </div>
                        </div>
                        <div class="tile-detail">Installer platform unification</div>
                    </div>
                </div>

                <!-- UI Ticket Reduction - Small tile -->
                <div class="impact-tile tile-small tile-tickets" data-animate="scale">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">90%</div>
                                <div class="tile-label">Faster Design→Dev</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-progress" aria-hidden="true">
                            <div class="tile-progress">
                                <div class="progress-bar" data-percent="90"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Deployment Time - Small tile -->
                <div class="impact-tile tile-small tile-deployment" data-animate="none">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">8hr→45m</div>
                                <div class="tile-label">Release Cycle</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-bars viz-bars-compact" aria-hidden="true">
                            <div class="viz-row">
                                <span class="viz-tag">Before</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 100%;"></span></span>
                                <span class="viz-val">8h</span>
                            </div>
                            <div class="viz-row">
                                <span class="viz-tag">After</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 10%;"></span></span>
                                <span class="viz-val">45m</span>
                            </div>
                        </div>
                        <div class="tile-detail">90% faster enterprise deployment</div>
                    </div>
                </div>
                <!-- Infrastructure Reduction - Medium tile -->
                <div class="impact-tile tile-medium tile-infra" data-animate="none" style="grid-column: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">130+</div>
                                <div class="tile-label">Engineers Un‑siloed</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-network" aria-hidden="true">
                            <svg viewBox="0 0 120 44" role="presentation" focusable="false" preserveAspectRatio="none">
                                <path class="viz-network-line" d="M14 32L44 16L78 26L106 12" />
                                <path class="viz-network-line" d="M14 32L60 34L106 12" />
                                <circle class="viz-network-node" cx="14" cy="32" r="3.2" />
                                <circle class="viz-network-node" cx="44" cy="16" r="3.2" />
                                <circle class="viz-network-node" cx="60" cy="34" r="3.2" />
                                <circle class="viz-network-node" cx="78" cy="26" r="3.2" />
                                <circle class="viz-network-node" cx="106" cy="12" r="3.2" />
                            </svg>
                        </div>
                        <div class="tile-detail">Tokenized design system ships to prod</div>
                    </div>
                </div>
                <!-- Dev Velocity - Medium tile spanning 2 columns -->
                <div class="impact-tile tile-medium tile-velocity" data-animate="none" style="grid-column: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">3wk→Same‑day</div>
                                <div class="tile-label">Content Updates</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-bars" aria-hidden="true">
                            <div class="viz-row">
                                <span class="viz-tag">Before</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 100%;"></span></span>
                                <span class="viz-val">3wk</span>
                            </div>
                            <div class="viz-row">
                                <span class="viz-tag">After</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 5%;"></span></span>
                                <span class="viz-val">Same‑day</span>
                            </div>
                        </div>
                        <div class="tile-detail">Self‑service publishing platform</div>
                    </div>
                </div>
            </div>
            <!-- PLATFORM SCALE Section -->
            <div class="impact-section" data-section="scale">
                <div class="section-label">SCALE & ADOPTION</div>
                <!-- Products Unified - Large tile -->
                <div class="impact-tile tile-large tile-systems" data-animate="stack" style="grid-column: span 6;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">100+</div>
                                <div class="tile-label">Products Unified</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-mosaic" aria-hidden="true">
                            <div class="mosaic-grid">
                                <span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span>
                                <span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span>
                                <span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span>
                                <span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span><span class="mosaic-cell"></span>
                            </div>
                        </div>
                        <div class="tile-detail">Universal overlay adopted org‑wide</div>
                    </div>
                </div>

                <!-- Storage Eliminated - Medium tile -->
                <div class="impact-tile tile-medium tile-storage" data-animate="rotate" style="grid-column: span 3;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">Millions</div>
                                <div class="tile-label">Users Served</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-globe" aria-hidden="true">
                            <div class="globe-visual">
                                <div class="globe"></div>
                                <div class="globe-dots">
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                </div>
                            </div>
                        </div>
                        <div class="tile-detail">Enterprise platforms used globally</div>
                    </div>
                </div>
				<!-- Platform Adoption - Medium tile -->
			<div class="impact-tile tile-medium tile-adoption" data-animate="counter" style="grid-column: span 3;">
				<div class="tile-inner">
					<div class="tile-mobile-wrapper">
						<div class="tile-mobile-content">
							<div class="tile-value">
								<span class="counter" data-target="465">0</span>
									<span class="unit">K</span>
							</div>
							<div class="tile-label">Participants Reached</div>
						</div>
					</div>
                    <div class="tile-viz viz-sparkline" aria-hidden="true">
                        <svg viewBox="0 0 100 32" role="presentation" focusable="false" preserveAspectRatio="none">
                            <path class="viz-sparkline-line" d="M2 26L18 22L34 24L50 16L66 18L82 10L98 6" />
                        </svg>
                    </div>
					<div class="tile-detail">150K pilots → 465K production</div>
				</div>
			</div>
            </div>
            <!-- BEHAVIORAL OUTCOMES Section -->
            <div class="impact-section" data-section="behavioral">
                <div class="section-label">BEHAVIORAL OUTCOMES</div>
                
                <!-- Conversion Rate - Large tile -->
                <div class="impact-tile tile-large tile-conversion" data-animate="none" style="grid-column: span 2; grid-row: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">12→22%</div>
                                <div class="tile-label">Savings Conversion</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-bars" aria-hidden="true">
                            <div class="viz-row">
                                <span class="viz-tag">Before</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 55%;"></span></span>
                                <span class="viz-val">12%</span>
                            </div>
                            <div class="viz-row">
                                <span class="viz-tag">After</span>
                                <span class="viz-bar"><span class="viz-fill" style="--viz-fill: 100%;"></span></span>
                                <span class="viz-val">22%</span>
                            </div>
                        </div>
                        <div class="tile-detail">Refund‑to‑savings intervention</div>
                    </div>
                </div>

                <!-- Borrower Savings - Large tile -->
                <div class="impact-tile tile-large tile-borrower" data-animate="shine" style="grid-column: span 2; grid-row: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">$1M</div>
                                <div class="tile-label">Moved Into Savings</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-sparkline" aria-hidden="true">
                            <svg viewBox="0 0 100 32" role="presentation" focusable="false" preserveAspectRatio="none">
                                <path class="viz-sparkline-line" d="M2 26L18 26L34 22L50 18L66 16L82 10L98 6" />
                            </svg>
                        </div>
                        <div class="tile-detail">85% retained after 3 months</div>
                    </div>
                </div>

                <!-- CTR Increase - Medium tile -->
                <div class="impact-tile tile-medium tile-ctr" data-animate="none" style="grid-column: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">59%</div>
                                <div class="tile-label">CTR Lift</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-sparkline" aria-hidden="true">
                            <svg viewBox="0 0 100 32" role="presentation" focusable="false" preserveAspectRatio="none">
                                <path class="viz-sparkline-line" d="M2 24L18 22L34 23L50 18L66 16L82 12L98 8" />
                            </svg>
                        </div>
                        <div class="tile-detail">Behavioral messaging framework</div>
                    </div>
                </div>

                <!-- Retention - Medium tile -->
                <div class="impact-tile tile-medium tile-retention" data-animate="pulse" style="grid-column: span 2;">
                    <div class="tile-inner">
                        <div class="tile-mobile-wrapper">
                            <div class="tile-mobile-content">
                                <div class="tile-value">85%</div>
                                <div class="tile-label">3‑mo Retention</div>
                            </div>
                        </div>
                        <div class="tile-viz viz-rings" aria-hidden="true">
                            <div class="year-rings">
                                <div class="ring ring-1"></div>
                                <div class="ring ring-2"></div>
                                <div class="ring ring-3"></div>
                            </div>
                        </div>
                        <div class="tile-detail">Sustained savings behavior</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
