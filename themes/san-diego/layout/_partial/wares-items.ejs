<div id="waresContent" class="wares-list mobile-tab-pane" role="tabpanel" aria-labelledby="tab-wares" aria-hidden="true">
    <% if (warePosts.length > 0) { %>
        <% warePosts.forEach(function(post) { %>
            <%
                // Handle cover image path resolution
                let coverImagePath = post.cover_image || post.header_image;
                if (coverImagePath && !coverImagePath.startsWith('/') && !coverImagePath.startsWith('http')) {
                    const datedPathPattern = new RegExp('^\\d{4}/\\d{2}/\\d{2}/');
                    if (datedPathPattern.test(coverImagePath)) {
                        coverImagePath = '/' + coverImagePath;
                    } else {
                        const postBasePath = url_for(post.path);
                        const normalizedBasePath = postBasePath.endsWith('/') ? postBasePath : postBasePath + '/';
                        const normalizedAssetPath = coverImagePath.replace(/^\.?\//, '');
                        coverImagePath = normalizedBasePath + normalizedAssetPath;
                    }
                }
                const coverImageUrl = coverImagePath
                    ? (coverImagePath.startsWith('http') ? coverImagePath : url_for(coverImagePath))
                    : '/img/blogPostDefaultCover.png';

                const subtitle = post.subtitle || post.display_description || post.summary || '';

                // Handle link - external CTA or internal post
                let wareLink = url_for(post.path);
                let wareLinkExternal = false;
                if (post.cta_url) {
                    wareLinkExternal = /^https?:\/\//.test(post.cta_url);
                    wareLink = wareLinkExternal ? post.cta_url : url_for(post.cta_url);
                }
            %>
            <a href="<%- wareLink %>" class="wares-item no-external-indicators"<% if (wareLinkExternal) { %> target="_blank" rel="noopener"<% } %>>
                <div class="wares-item__icon">
                    <img src="<%- coverImageUrl %>" alt="<%- post.title %>" loading="lazy" />
                </div>
                <div class="wares-item__info">
                    <h3 class="wares-item__title"><%- post.title %></h3>
                    <% if (subtitle) { %>
                        <p class="wares-item__subtitle"><%- subtitle %></p>
                    <% } %>
                </div>
                <div class="wares-item__action">
                    <span class="wares-item__button">Get</span>
                </div>
            </a>
        <% }); %>
    <% } else { %>
        <p class="wares-empty">No wares published yet.</p>
    <% } %>
</div>
