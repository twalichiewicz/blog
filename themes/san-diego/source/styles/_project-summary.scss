@use 'variables';

.project-summary {
	margin: 16px 0 0 0;
	border-radius: 12px;
	background: variables.$white;
	border: 1px solid rgba(0, 0, 0, 0.08);
	overflow: visible;
	display: flex;
	flex-direction: column;
	flex: 1;
	min-height: 0;

	// Teenage Engineering device styling (all screen sizes)
	flex-direction: row;
	background: silver;
	border: 9px solid silver;
	border-bottom-width: 30px;
	max-height: 240px;
	max-width: 600px;
	margin-left: auto;
	margin-right: auto;
	position: relative;
	box-shadow:
		0 3px 0 rgb(173, 173, 173),
		0 8px 16px rgba(0, 0, 0, 0.3);

	// SummaryTron engraved text
	&::after {
		content: 'SummaryTron';
		position: absolute;
		bottom: -22px;
		right: 0px;
		font-size: 10px;
		font-weight: 600;
		color: rgba(0, 0, 0, 0.4);
		text-shadow:
			0 1px 0 rgba(255, 255, 255, 0.6),
			0 -1px 0 rgba(0, 0, 0, 0.2);
		letter-spacing: 0.5px;
		font-family: monospace;
	}

	// Mobile responsive adjustments
}

.summary-navigation {
	display: flex;
	flex-shrink: 0;
	// Teenage Engineering navigation styling (all screen sizes)
	flex-direction: column;
	background: silver;
	gap: 6px;
	border: 0;
	box-shadow: none;
	padding: 12px;
	width: auto;
	min-width: 120px;
	overflow-x: visible;
	scrollbar-width: auto;
	-ms-overflow-style: auto;

	// Mobile responsive adjustments

	&::-webkit-scrollbar {
		display: none;
	}

	.summary-tab-button {
		flex: 1;
		min-width: max-content;
		justify-content: center;
		padding: 12px;
		margin: 0 2px;
		border: 1px solid transparent;
		background: linear-gradient(to bottom, #f0f0f0 0%, #e0e0e0 20%, #d0d0d0 60%, #c0c0c0 100%);
		color: #3a3a3a;
		font-size: 0.85rem;
		font-weight: 500;
		cursor: pointer;
		transition: all 0.15s ease;
		position: relative;
		white-space: nowrap;
		border-radius: 6px;
		box-shadow:
			0 2px 4px rgba(0, 0, 0, 0.2),
			inset 0 1px 0 rgba(255, 255, 255, 0.9),
			inset 0 -1px 0 rgba(0, 0, 0, 0.1);
		text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
		-webkit-transform-style: preserve-3d;
		transform-style: preserve-3d;

		// Mobile adjustments
		@media (max-width: 768px) {
			font-size: 12px;
			align-items: center;
		}

		// LED indicator (off state)
		&::before {
			content: '';
			position: absolute;
			top: 4px;
			right: 6px;
			width: 8px;
			height: 3px;
			background: linear-gradient(135deg, #666666 0%, #555555 100%);
			border-radius: 1px;
			border: 1px solid #444444;
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.3);
			transition: all 0.2s ease;
		}

		&:hover {
			background: linear-gradient(to bottom, #f8f8f8 0%, #e8e8e8 20%, #d8d8d8 60%, #c8c8c8 100%);
			color: #2a2a2a;
			box-shadow:
				0 3px 6px rgba(0, 0, 0, 0.25),
				inset 0 1px 0 rgba(255, 255, 255, 0.95),
				inset 0 -1px 0 rgba(0, 0, 0, 0.1);
		}

		&:active {
			transform: translateY(1px);
			box-shadow:
				0 1px 2px rgba(0, 0, 0, 0.3),
				inset 0 1px 0 rgba(255, 255, 255, 0.7),
				inset 0 -1px 0 rgba(0, 0, 0, 0.2);
		}

		&.active {
			// New silver aesthetic active styling
			background: linear-gradient(to bottom, #e8e8e8 0%, #d0d0d0 20%, #b8b8b8 60%, #a0a0a0 100%);
			color: #2a2a2a;
			border-color: #909090;
			box-shadow:
				inset 0 2px 6px rgba(0, 0, 0, 0.3),
				inset 0 1px 0 rgba(0, 0, 0, 0.2),
				0 1px 0 rgba(255, 255, 255, 0.8),
				0 2px 4px rgba(0, 0, 0, 0.2);
			text-shadow: 0 1px 0 rgba(255, 255, 255, 0.7);
			font-weight: 500;

			// LED indicator (on state) - bright red-orange glow
			&::before {
				background: linear-gradient(135deg, hsl(15, 85%, 55%) 0%, hsl(15, 70%, 40%) 50%, hsl(15, 60%, 30%) 100%);
				border-color: hsl(15, 60%, 25%);
				box-shadow:
					inset 0 1px 1px rgba(255, 255, 255, 0.6),
					0 0 6px hsla(15, 70%, 50%, 0.8),
					0 0 12px hsla(15, 70%, 50%, 0.4),
					0 0 18px hsla(15, 70%, 50%, 0.2);
			}

			// Chrome highlight effect
			&::after {
				content: '';
				position: absolute;
				top: 1px;
				left: 1px;
				right: 1px;
				height: 40%;
				background: linear-gradient(to bottom, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.1) 70%, transparent 100%);
				border-radius: 4px 4px 0 0;
				pointer-events: none;
			}
		}
	}
}

.summary-content {
	position: relative;
	flex: 1;
	max-width: 600px;
	margin: 0 auto;
	display: flex;
	flex-direction: column;

	// Teenage Engineering content styling (all screen sizes)
	border-radius: 12px;
	width: 100%;
	background: #151515;
	max-width: unset;
	margin: 0;
	box-shadow:
		inset 0 2px 6px rgba(0, 0, 0, 0.8),
		inset 0 0 0 1px rgba(0, 0, 0, 0.9);

	.summary-panel {
		display: none;
		padding: 2rem;
		position: static !important;
		margin: 0 !important;
		top: auto !important;
		left: auto !important;
		right: auto !important;
		bottom: auto !important;
		transform: none !important;
		overflow: visible;
		overflow-y: scroll;

		// Custom scrollbar styling
		scrollbar-width: thin;
		scrollbar-color: #E6F3F8 transparent;

		&::-webkit-scrollbar {
			width: 2px;
		}

		&::-webkit-scrollbar-track {
			background: transparent;
		}

		&::-webkit-scrollbar-thumb {
			background-color: #E6F3F8;
			border-radius: 0; // Squared corners
		}

		&::-webkit-scrollbar-thumb:hover {
			background-color: #E6F3F8;
		}

		&.active {
			display: flex;
			flex-direction: column;
			padding: 12px;
			height: 100%;
			position: relative;
			border-radius: 12px;

			// Matte glass effect overlay for Teenage Engineering screen aesthetic
			&::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				border-radius: 12px;
				background: linear-gradient(135deg,
						rgba(255, 255, 255, 0.08) 0%,
						rgba(255, 255, 255, 0.03) 25%,
						rgba(0, 0, 0, 0.02) 50%,
						rgba(255, 255, 255, 0.04) 75%,
						rgba(255, 255, 255, 0.06) 100%);
				-webkit-backdrop-filter: blur(0.5px);
				backdrop-filter: blur(0.5px);
				box-shadow:
					inset 0 1px 0 rgba(255, 255, 255, 0.1),
					inset 0 -1px 0 rgba(0, 0, 0, 0.1),
					inset 1px 0 0 rgba(255, 255, 255, 0.05),
					inset -1px 0 0 rgba(0, 0, 0, 0.05);
				pointer-events: none;
				z-index: 1;
			}

			// Ensure content stays above the glass effect
			.summary-panel-content {
				position: relative;
				z-index: 2;
			}
		}

		.summary-panel-content {

			// Teenage Engineering universal text styling (all screen sizes)
			&,
			&>*,
			& p,
			& ul,
			& ol,
			& li,
			& strong {
				color: #E6F3F8 !important;
				font-size: 12px !important;
				line-height: 18px !important;
				font-family: monospace !important;
			}

			// Even more specific targeting for nested elements
			p,
			ul,
			ol,
			li,
			strong,
			span,
			em,
			code {
				color: #E6F3F8 !important;
				font-size: 12px !important;
				line-height: 18px !important;
				font-family: monospace !important;
			}

			// Target deeply nested list items
			ul li,
			ol li,
			ul li *,
			ol li * {
				color: #E6F3F8 !important;
				font-size: 12px !important;
				line-height: 18px !important;
				font-family: monospace !important;
			}

			h2,
			h3 {
				margin-top: 0;
				margin-bottom: 1rem;
			}

			p {
				margin: 0 auto;
				max-width: 75ch;
				line-height: 1.6;

				// Terminal text styling (all screen sizes)
				max-width: unset;
				margin: 0 0 12px 0;
			}

			ul,
			ol {
				margin: 1rem 0;
				padding-left: 1.5rem;

				// Terminal list styling (all screen sizes)
				margin: 0.5rem 0;

				&:first-of-type {
					margin-top: 0;
				}

				li {
					margin-bottom: 0.5rem;
					line-height: 1.6;
					margin-bottom: 0.25rem;

					strong {
						font-weight: 600;
					}
				}
			}

			strong {
				font-weight: 600;
			}
		}
	}
}


// Ultra-specific targeting to override body CSS (all screen sizes)
.project-summary .summary-content .summary-panel.active .summary-panel-content,
.project-summary .summary-content .summary-panel.active .summary-panel-content *,
.project-summary .summary-content .summary-panel.active .summary-panel-content p,
.project-summary .summary-content .summary-panel.active .summary-panel-content ul,
.project-summary .summary-content .summary-panel.active .summary-panel-content ol,
.project-summary .summary-content .summary-panel.active .summary-panel-content li,
.project-summary .summary-content .summary-panel.active .summary-panel-content strong,
.project-summary .summary-content .summary-panel.active .summary-panel-content span,
.project-summary .summary-content .summary-panel.active .summary-panel-content em {
	color: #E6F3F8 !important;
	font-size: 12px !important;
	line-height: 18px !important;
	font-family: monospace !important;
}


// Ultra-specific targeting to override body CSS
// Light mode styles (default)
:root {
	.project-summary {
		.summary-content {
			.summary-panel {
				.summary-panel-content {
					// Removed color rule to allow monospace styling to take precedence

					h2,
					h3 {
						color: variables.$text-color;
					}
				}
			}
		}
	}
}

// Dark mode styles
[data-theme="dark"] {
	.project-summary {
		.summary-content {
			.summary-panel {
				.summary-panel-content {
					color: variables.$text-color-dark;

					h2,
					h3 {
						color: variables.$text-color-dark;
					}
				}
			}
		}
	}
}

// Mobile styles
@media (max-width: 768px) {
	.project-summary {
		margin-bottom: 18px;
		max-height: none !important;
	}

	.summary-panel.active {
		padding: 9px !important;
		overflow-y: auto;
	}
}