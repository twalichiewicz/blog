@use 'variables';
@use 'shared-components';
@use "sass:color";

/* ==========================================================================
   Theme Modes - Dark/Light Mode Styles
   
   This file contains all dark mode and light mode specific styles that
   were previously in _responsive-layouts.scss
   ========================================================================== */

/* Smooth transitions between light and dark mode */
.blog {
	transition:
		background-color 0.5s ease,
		color 0.5s ease;

	.blog-content {
		transition:
			background-color 0.5s ease,
			box-shadow 0.5s ease,
			border-color 0.5s ease;
	}

	.profile-header,
	.post-list-item,
	.profile-photo,
	h1,
	h2,
	h3,
	h4,
	h5,
	h6,
	p,
	a,
	button,
	.button,
	.profile-name,
	.profile-bio,
	.profile-stats .stat .number,
	.profile-stats .stat .label,
	pre,
	code,
	blockquote,
	.contact-button,
	.contact-option {
		transition:
			color 0.3s ease,
			background-color 0.3s ease,
			border-color 0.3s ease,
			box-shadow 0.3s ease;
	}
}

/* Dark mode media queries */
@media (prefers-color-scheme: dark) {
	.blog {

		/* Dark mode for blog header */
		&.blog .profile-header {
			.profile-info {
				.profile-name {
					text-shadow:
						0 1px 1px rgba(255, 255, 255, 0.2),
						0 -1px 1px rgba(variables.$black, 0.4);
					color: variables.$white !important;
				}

				.profile-bio {
					color: variables.$grey-dark !important;
				}

				.profile-stats .stat {
					.number {
						color: variables.$white !important;
					}

					.label {
						color: variables.$grey-dark !important;
					}
				}
			}

			.profile-photo {
				box-shadow:
					0 0 0 1px rgba(variables.$white, 0.2),
					0 0 0 2px rgba(variables.$black, 0.3),
					inset 0 2px 8px rgba(variables.$black, 0.6),
					inset 0 -4px 8px rgba(variables.$white, 0.1);
				background: linear-gradient(145deg,
						rgba(variables.$white, 0.05),
						rgba(variables.$black, 0.2));
			}

			.contact-wrapper {
				.contact-button {
					background: rgba(variables.$card-bg-dark, 0.7);
					border-color: rgba(variables.$border-color-dark, 0.5);
					color: variables.$text-color-dark;
					box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);

					&:hover {
						background: rgba(variables.$link-color-dark, 0.2);
						color: variables.$link-color-dark;
					}

					&.active {
						background: rgba(variables.$link-color-dark, 0.8);
						color: variables.$black;
						border-color: rgba(variables.$link-color-dark, 0.6);
					}
				}

				.contact-options {
					background: rgba(variables.$card-bg-dark, 0.7);
					border-color: rgba(variables.$border-color-dark, 0.5);
					box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
					backdrop-filter: blur(4px);

					.contact-option {
						background: transparent;
						border-color: rgba(variables.$border-color-dark, 0.4);
						color: variables.$text-color-dark;

						&:hover {
							background: rgba(variables.$link-color-dark, 0.2);
							color: variables.$link-color-dark;
						}

						&:active {
							background: rgba(variables.$link-color-dark, 0.3);
						}
					}
				}
			}
		}

		/* Desktop contact options in dark mode */
		@media screen and (min-width: variables.$mobile-breakpoint) {
			.contact-wrapper {
				.contact-options {
					background: rgba(variables.$card-bg-dark, 0.6);
					border-color: rgba(variables.$border-color-dark, 0.4);
					box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
					backdrop-filter: blur(4px);

					.contact-option {
						background: transparent;
						color: variables.$text-color-dark;

						&:hover {
							background: rgba(variables.$link-color-dark, 0.2);
							color: variables.$link-color-dark;
						}

						&:active {
							background: rgba(variables.$link-color-dark, 0.3);
						}

						&:not(:last-child) {
							border-right-color: rgba(variables.$border-color-dark, 0.4);
						}
					}
				}
			}
		}

		/* Global dark mode style for external-icon */
		.external-icon {
			background: rgba(255, 255, 255, 0.1);
			border-color: rgba(255, 255, 255, 0.05);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;

				color: variables.$white;
			}
		}

		/* Dark mode for basic blog content */
		.blog-content {
			background-color: variables.$grey-dark;
			box-shadow: 0 2px 15px rgba(0, 0, 0, 0.15);
			border: 1px solid rgba(255, 255, 255, 0.1);

			&::before {
				background: linear-gradient(90deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.2));
			}
		}

		/* Dark mode for blog content on tablet and desktop */
		@media screen and (min-width: variables.$mobile-breakpoint) {
			.blog-content {
				/* Subtle gradient background for the blog content in dark mode */
				background: linear-gradient(135deg,
						hsl(28, 10%, 10%) 0%,
						hsl(28, 8%, 15%) 100%);
				box-shadow:
					0 4px 20px rgba(0, 0, 0, 0.3),
					0 0 0 1px variables.$border-color-dark;

				/* Content wrapper styling */
				.content-wrapper {
					/* Darker background with subtle gradient */
					background: linear-gradient(to bottom right,
							hsl(28, 8%, 18%) 0%,
							hsl(28, 10%, 15%) 100%);
					border-radius: 12px;
					box-shadow: variables.$shadow-soft-dark;

					&::-webkit-scrollbar-thumb {
						background-color: rgba(255, 255, 255, 0.1);
						border-radius: 3px;
					}

					&::-webkit-scrollbar-track {
						background: rgba(0, 0, 0, 0.2);
						border-radius: 3px;
					}

					#postsContent,
					#projectsContent {
						background: transparent;
						border-radius: 0;
						box-shadow: none;

						.column-title {
							color: variables.$white;
							border-bottom: 1px solid variables.$border-color-dark;
						}

						/* Post styling in dark mode */
						.post-list-item {
							border-bottom-color: variables.$border-color-dark;

							h3 {
								a {
									color: variables.$white;

									&:hover {
										color: variables.$link-color-dark;
									}
								}
							}

							p {
								color: variables.$text-color-secondary-dark;
							}

							ul,
							ol {
								li {
									color: variables.$text-color-secondary-dark !important;
								}
							}

							.post-byline {
								color: variables.$grey-dark;
							}

							.post-date {
								color: variables.$grey-dark;
							}

							.post-tags {
								.tag {
									background: rgba(255, 255, 255, 0.05);
									border: 1px solid variables.$border-color-dark;
									color: variables.$grey-dark;

									&:hover {
										background: variables.$link-color-dark;
										color: variables.$black;

									}
								}
							}

							/* Only apply hover effects to post-link items */
							&.post-link {
								transition: variables.$transition-standard;

								&:hover {
									background-color: rgba(30, 30, 30, 0.8);
									transform: translateY(-2px);
								}
							}
						}

						/* Code blocks in dark mode */
						pre,
						code {
							background: rgba(0, 0, 0, 0.3);
							border: 1px solid variables.$border-color-dark;
							color: variables.$grey-light;
						}

						/* Images in dark mode */
						img {
							filter: brightness(0.9);
							border: 1px solid variables.$border-color-dark;
							box-shadow: variables.$shadow-soft-dark;
						}

						/* Links in dark mode */
						a:not(.button) {
							color: variables.$link-color-dark;
							text-decoration: none;
							transition: all 0.2s ease;

							&:hover {
								color: color.adjust(variables.$link-color-dark, $lightness: 10%);
								text-decoration: none;
							}
						}

						/* Headings in dark mode */
						h1,
						h2,
						h3,
						h4,
						h5,
						h6 {
							color: variables.$white;

							a {
								color: variables.$white;

								&:hover {
									color: variables.$link-color-dark;
								}
							}
						}

						/* Lists in dark mode */
						ul,
						ol {
							li {
								color: variables.$text-color-secondary-dark !important;
							}
						}
					}
				}
			}
		}

		/* Specific styles for tablet */
		&.device-tablet .blog-content {
			background: linear-gradient(135deg,
					hsl(28, 10%, 12%) 0%,
					hsl(28, 8%, 16%) 100%);

			/* Tablet-specific content styling */
			.content-wrapper {
				/* Subtle glow effect on content containers */
				box-shadow:
					variables.$shadow-soft-dark,
					0 0 20px rgba(variables.$link-color-dark, 0.05);

				/* Subtle border highlight */
				border: 1px solid rgba(variables.$link-color-dark, 0.1);

				#postsContent,
				#projectsContent {
					/* Remove any box-shadow that might be inherited */
					box-shadow: none;
					border: none;

					/* Tablet-specific portfolio item styling */
					.portfolio-item {
						box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);

						&:hover {
							box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25),
								0 0 0 1px rgba(variables.$link-color-dark, 0.15);
						}
					}
				}
			}

			/* Scrollbar styling for tablet */
			::-webkit-scrollbar {
				width: 6px;
				height: 6px;
			}

			::-webkit-scrollbar-track {
				background: rgba(0, 0, 0, 0.2);
				border-radius: 4px;
			}

			::-webkit-scrollbar-thumb {
				background: rgba(variables.$link-color-dark, 0.3);
				border-radius: 4px;

				&:hover {
					background: rgba(variables.$link-color-dark, 0.5);
				}
			}
		}

		/* Specific styles for desktop */
		&.device-desktop .blog-content {
			background: linear-gradient(135deg,
					hsl(28, 10%, 14%) 0%,
					hsl(28, 8%, 10%) 100%);
			backdrop-filter: blur(5px);

			/* Desktop-specific content styling */
			.content-wrapper {

				/* Add subtle grain texture */
				&::before {
					content: '';
					position: absolute;
					top: 0;
					left: 0;
					right: 0;
					bottom: 0;
					background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
					opacity: 0.03;
					pointer-events: none;
					z-index: -1;
				}

				/* Enhanced shadow for desktop */
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2),
				0 0 30px rgba(variables.$link-color-dark, 0.05);

				/* Subtle border highlight */
				border: 1px solid rgba(variables.$link-color-dark, 0.15);

				/* Smooth transition for hover effects */
				transition: all 0.3s ease,
				transform 0.3s ease;

				&:hover {
					box-shadow:
						0 6px 25px rgba(0, 0, 0, 0.25),
						0 0 40px rgba(variables.$link-color-dark, 0.08);
					transform: translateY(-2px);
				}

				#postsContent,
				#projectsContent {
					/* Remove any box-shadow that might be inherited */
					box-shadow: none;
					border: none;

					/* Enhanced post item styling */
					.post-list-item {
						position: relative;
						overflow: hidden;

						&::after {
							content: '';
							position: absolute;
							bottom: 0;
							left: 0;
							width: 100%;
							height: 1px;
							background: linear-gradient(to right,
									transparent,
									rgba(variables.$link-color-dark, 0.2),
									transparent);
						}

						&:last-child::after {
							display: none;
						}

						/* Add subtle hover effect only to post-link items */
						&.post-link:hover {
							background-color: rgba(30, 30, 30, 0.8);
							transform: translateY(-2px);

							h3 a {
								color: variables.$link-color-dark;
							}
						}
					}

					/* Enhanced portfolio item styling for desktop */
					.portfolio-item {
						box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);

						&:hover {
							box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3),
								0 0 0 1px rgba(variables.$link-color-dark, 0.2);
							background-color: rgba(255, 255, 255, 0.1);
						}

						&.has-writeup {
							background: rgba(20, 20, 20, 0.7);
							backdrop-filter: blur(5px);
							border: 1px solid rgba(255, 255, 255, 0.1);
							color: variables.$text-color-dark;
							box-shadow: variables.$shadow-soft-dark;

							&:hover {
								background-color: rgba(30, 30, 30, 0.8);

								box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
							}

							/* Dark mode typography */
							.company-byline {
								color: variables.$grey-dark;
								opacity: 0.8;
							}

							h3 {
								font-size: 1rem;
								margin: 0.25rem 0 0.1rem 0;
								line-height: 1.4;

								a {
									color: variables.$white;

									&:hover {
										color: variables.$link-color-dark;
									}
								}
							}

							p {
								color: variables.$grey-light;
							}

							.external-icon {
								/* Dark mode appearance only - structure comes from _components.scss */
								background: rgba(255, 255, 255, 0.1);
								border-color: rgba(255, 255, 255, 0.05);
								color: variables.$white;

								&:hover {
									background: variables.$link-color-dark;

									color: variables.$white;
								}
							}

							/* Dark mode accordion */
							.content-accordion {
								border-top-color: rgba(255, 255, 255, 0.05);

								summary {
									color: variables.$grey-dark;

									&:hover {
										color: variables.$link-color-dark;
									}
								}

								.accordion-content {
									color: variables.$grey-dark;
									background: rgba(255, 255, 255, 0.03);
								}
							}
						}

						&:not(.has-writeup):hover {
							transform: none;
							box-shadow: none;
							background: hsl(35, 10%, 75%);
						}
					}

					/* Enhance scrollbar for better visibility */
					&::-webkit-scrollbar {
						width: 8px;
					}

					&::-webkit-scrollbar-track {
						background: rgba(0, 0, 0, 0.2);
						border-radius: 4px;
					}

					&::-webkit-scrollbar-thumb {
						background: rgba(variables.$link-color-dark, 0.3);
						border-radius: 4px;

						&:hover {
							background: rgba(variables.$link-color-dark, 0.5);
						}
					}
				}
			}

			/* Custom scrollbar for desktop */
			::-webkit-scrollbar {
				width: 8px;
				height: 8px;
			}

			::-webkit-scrollbar-track {
				background: rgba(0, 0, 0, 0.2);
				border-radius: 4px;
			}

			::-webkit-scrollbar-thumb {
				background: rgba(variables.$link-color-dark, 0.3);
				border-radius: 4px;

				&:hover {
					background: rgba(variables.$link-color-dark, 0.5);
				}
			}
		}

		/* Dark mode for blog list items */
		&.blog .blog-list .post-list-item {
			.post-byline {
				color: variables.$grey-dark;
			}

			h3 a {
				color: variables.$white;

				&:hover {
					color: variables.$link-color-dark;
				}
			}

			p {
				color: variables.$grey-dark;

				a {
					color: variables.$link-color-dark;

					&:hover {
						color: variables.$link-color-dark;
					}
				}
			}

			ul,
			ol {
				li {
					color: variables.$grey-dark !important;

					a {
						color: variables.$link-color-dark;

						&:hover {
							color: variables.$link-color-dark;
						}
					}
				}
			}

			/* Dark mode styling for the separator */
			border-bottom-color: rgba(variables.$border-color-dark, 0.5);

			&:not(:last-child)::after {
				background: linear-gradient(to right,
						transparent,
						rgba(variables.$border-color-dark, 0.7),
						transparent);
			}

			&.post-link {
				background: rgba(20, 20, 20, 0.7);
				backdrop-filter: blur(5px);
				border: 1px solid rgba(255, 255, 255, 0.1);
				color: variables.$text-color-dark;

				.link-share {
					h3 a {
						color: variables.$white;

						.link-text-group {
							color: variables.$white;
						}

						.external-icon {
							background: rgba(255, 255, 255, 0.1);
							border-color: rgba(255, 255, 255, 0.1);
							color: variables.$white;
						}

						&:hover .external-icon {
							background: variables.$link-color-dark;

						}
					}

					.link-source {
						border-top-color: variables.$border-color-dark;

						.link-url {
							color: variables.$grey-dark;
						}
					}
				}

				.content-accordion {
					border-top-color: rgba(255, 255, 255, 0.05);

					summary {
						color: variables.$grey-dark;

						&::before {
							opacity: 0.5;
						}

						&:hover {
							color: variables.$link-color-dark;

							&::before {
								opacity: 0.8;
							}
						}
					}

					.accordion-content {
						color: variables.$grey-dark;
						background: rgba(255, 255, 255, 0.03);
					}
				}
			}
		}

		/* Dark mode for tabs and buttons */
		&.blog .tab-button {
			color: variables.$grey-dark;

			&.active {
				background: variables.$link-color-dark;
				color: variables.$white;
			}

			&:hover:not(.active) {
				color: variables.$link-color-dark;
			}
		}

		p {
			color: variables.$text-color-dark;
		}

		/* Dark mode for lists to match paragraph styling */
		ul,
		ol {
			color: variables.$text-color-dark;

			li {
				color: variables.$text-color-dark !important;
			}
		}

		.blog-list .post-list-item .post-byline {
			color: variables.$text-color-secondary-dark;
		}

		.view-toggle {
			background-color: hsl(28, 10%, 12%);

			.segmented-button {
				background: rgba(0, 0, 0, 0.3);

				button.active {
					background: variables.$link-color-dark;
				}
			}
		}

		.post-list-item h2 a,
		.archive-link a,
		.page-navigation button {
			color: variables.$link-color-dark;
		}

		.profile-header {
			.profile-photo {
				box-shadow:
					0 0 0 1px rgba(255, 255, 255, 0.2),
					0 0 0 2px rgba(0, 0, 0, 0.3),
					inset 0 2px 8px rgba(0, 0, 0, 0.6),
					inset 0 -4px 8px rgba(255, 255, 255, 0.1);
				background: linear-gradient(145deg,
						rgba(255, 255, 255, 0.05),
						rgba(0, 0, 0, 0.2));
			}
		}

		.post-divider {
			border-top-color: variables.$border-color-dark;
		}

		/* Dark mode for desktop widgets */
		.desktop-widgets {
			background: var(--bg-color, variables.$black);

			.widget {
				background: rgba(0, 0, 0, 0.8);
				border: 1px solid variables.$border-color-dark;
			}
		}

		/* Dark mode for blog header wave */
		.blog-header-wave {
			opacity: 0.15;
		}

		/* Dark mode for portfolio items */
		#projectsContent.portfolio-list {
			.company-group {
				.company-name {
					color: variables.$text-color-secondary-dark;
					border-bottom-color: variables.$border-color-dark;

					.company-years {
						color: variables.$text-color-secondary-dark;
					}
				}
			}
		}

		/* Dark mode for portfolio item cards */
		.portfolio-item {
			/* Dark mode appearance - only affecting card styling */
			background: rgba(20, 20, 20, 0.7);
			backdrop-filter: blur(5px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			color: variables.$text-color-dark;
			box-shadow: variables.$shadow-soft-dark;

			&:hover {
				background-color: rgba(30, 30, 30, 0.8);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

				.title-row h4 {
					color: variables.$link-color-dark;
				}
			}

			/* Dark mode styling for company-byline */
			.company-byline {
				color: variables.$grey-dark;
				opacity: 0.8;
			}

			/* Dark mode external icon - to indicate clickability */
			.external-icon {
				background: rgba(255, 255, 255, 0.1);
				border-color: rgba(255, 255, 255, 0.05);
				color: variables.$white;

				&:hover {
					background: variables.$link-color-dark;

					color: variables.$white;
				}
			}
		}

		/* Dark mode for carousel buttons */
		.carousel .carousel-button,
		.spotlight .carousel-button,
		.spotlight .spotlight-nav-button {
			box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2),
				0 1px 2px rgba(0, 0, 0, 0.12),
				inset 0 2px 4px rgba(0, 0, 0, 0.2),
				inset 0 -1px 2px rgba(255, 255, 255, 0.05);
		}

		/* Dark mode for blockquotes */
		blockquote {
			background: rgba(255, 255, 255, 0.05);
			border-left-color: variables.$border-color-dark;
		}

		/* Dark mode for figcaptions */
		figcaption {
			color: variables.$text-color-secondary-dark;
		}

		/* Dark mode for portfolio-items - see consolidated section at end of file */
	}

	/* Add a properly structured rule for desktop portfolio items in dark mode */
	@media (prefers-color-scheme: dark) {
		/* Desktop-specific dark mode styles moved to consolidated section at the end of file */
	}

	.title-row {
		.external-icon {
			background: rgba(255, 255, 255, 0.1);
			border-color: rgba(255, 255, 255, 0.05);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;

				color: variables.$white;
			}
		}
	}

	/* General dark mode text styling for all portfolio items */
	.portfolio-item {
		h4 {
			color: variables.$white;
		}

		p {
			color: variables.$grey-light;
		}

		.content-accordion {
			border-top-color: rgba(255, 255, 255, 0.05);

			summary {
				color: variables.$grey-dark;

				&:hover {
					color: variables.$link-color-dark;
				}
			}

			.accordion-content {
				color: variables.$grey-dark;
				background: rgba(255, 255, 255, 0.03);
			}
		}
	}

	.portfolio-item.has-writeup {
		/* Dark mode appearance - only affecting card styling */
		background: rgba(20, 20, 20, 0.7);
		backdrop-filter: blur(5px);
		border: 1px solid rgba(255, 255, 255, 0.1);
		color: variables.$text-color-dark;
		box-shadow: variables.$shadow-soft-dark;

		&:hover {
			background-color: rgba(30, 30, 30, 0.8);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

			.title-row h4 {
				color: variables.$link-color-dark;
			}
		}

		/* Dark mode styling for company-byline */
		.company-byline {
			color: variables.$grey-dark;
			opacity: 0.8;
		}

		/* Dark mode external icon - to indicate clickability */
		.external-icon {
			background: rgba(255, 255, 255, 0.1);
			border-color: rgba(255, 255, 255, 0.05);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;

				color: variables.$white;
			}
		}

		/* Portfolio image styling in dark mode */
		.portfolio-image {
			margin: 0 0 12px 0;
			border-radius: 6px;
			overflow: hidden;
			max-height: 150px;
			border: 1px solid rgba(255, 255, 255, 0.1);
			display: flex;
			align-items: center;
			justify-content: center;

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: none;
			}
		}

		&:hover .portfolio-image img {
			transform: none;
		}
	}

	/* Dark mode mobile tabs styling - MOVED TO _components.scss */
	/* Removing this section to avoid conflicts */
}

/* Light mode specific overrides if needed */
@media (prefers-color-scheme: light) {
	.blog {
		/* Light mode specific styles for a more premium look */

		/* Enhanced content wrapper styling for light mode */
		@media screen and (min-width: variables.$mobile-breakpoint) {
			.blog-content {
				/* Subtle gradient background for the blog content */
				background: linear-gradient(135deg,
						hsl(35, 15%, 94%) 0%,
						hsl(35, 10%, 98%) 100%);

				/* Content wrapper styling */
				.content-wrapper {
					/* Premium off-white background with subtle warmth */
					background: linear-gradient(to bottom right,
							hsl(35, 20%, 98%) 0%,
							hsl(35, 15%, 96%) 100%);
					box-shadow:
						0 2px 12px rgba(0, 0, 0, 0.03),
						0 0 0 1px rgba(0, 0, 0, 0.02);

					/* Add subtle texture */
					&::before {
						content: '';
						position: absolute;
						top: 0;
						left: 0;
						right: 0;
						bottom: 0;
						background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
						opacity: 0.02;
						pointer-events: none;
						z-index: -1;
					}

					/* Smooth transition for hover effects */
					transition: all 0.3s ease;

					&:hover {
						box-shadow:
							0 4px 16px rgba(0, 0, 0, 0.05),
							0 0 0 1px rgba(0, 0, 0, 0.03);
					}

					#postsContent,
					#projectsContent {
						.post-list-item {

							/* Only apply hover effects to post-link items in light mode */
							&.post-link {
								transition: all 0.3s ease;
								background: rgba(255, 255, 255, 0.7);
								backdrop-filter: blur(5px);
								border: 1px solid rgba(variables.$text-color-secondary, 0.1);
								box-shadow: variables.$shadow-soft;
								color: variables.$text-color;

								&:hover {
									background-color: rgba(0, 0, 0, 0.02);
								}
							}
						}
					}
				}
			}
		}

		/* Specific styles for tablet in light mode */
		&.device-tablet .blog-content {
			background: linear-gradient(135deg,
					hsl(35, 15%, 92%) 0%,
					hsl(35, 10%, 98%) 100%);

			.content-wrapper {
				/* Subtle glow effect on content containers */
				box-shadow:
					variables.$shadow-soft,
					0 0 20px rgba(variables.$accent-gold, 0.05);

				/* Subtle border highlight */
				border: 1px solid rgba(variables.$accent-gold, 0.1);
			}
		}

		/* Specific styles for desktop in light mode */
		&.device-desktop .blog-content {
			background: linear-gradient(135deg,
					hsl(35, 15%, 94%) 0%,
					hsl(35, 10%, 98%) 100%);
			backdrop-filter: blur(5px);
		}

		/* Light mode portfolio item styles - see consolidated section at end of file */
	}
}

/* ==========================================================================
   Consolidated Portfolio Item Theme Styles
   
   This section contains all color-related styles for portfolio items
   for both light and dark modes, consolidated from _portfolio.scss
   ========================================================================== */

/* Company name styling - section heading for portfolio items */
.company-name {
	font-size: 1.25rem;
	font-weight: 600;
	margin: 1.5rem 0 0.75rem;
	padding-bottom: 0.5rem;
	border-bottom: 1px solid rgba(0, 0, 0, 0.1);
	color: variables.$text-color;
	display: flex;
	justify-content: space-between;
	align-items: baseline;

	.company-years {
		font-size: 0.85rem;
		font-weight: 400;
		color: variables.$text-color-secondary;
		margin-left: 0.5rem;
	}

	/* First company name should have less top margin */
	&:first-of-type {
		margin-top: 0.5rem;
	}
}

/* Common portfolio item styles (outside of media queries) */
.portfolio-item {
	/* Common structural styles */
	transition: variables.$transition-standard;
	border-radius: 12px;
	padding: 0.75rem;
	margin: 0.75rem 0;
	display: flex;
	flex-direction: column;
	overflow: hidden;
	text-decoration: none;

	&:hover {
		transform: translateY(-2px);
	}

	// Common styling for company-byline
	.company-byline {
		@extend .byline-base !optional;
		margin-bottom: 6px;
	}

	// Common styling for portfolio content
	.portfolio-content {
		padding: 0.25rem 0;

		// Company byline should be separate from the title row
		.company-byline {
			margin-bottom: 0.25rem;
		}

		// Title row styling - new addition
		.title-row {
			display: flex;
			flex-direction: row;
			align-items: flex-start;
			justify-content: space-between;
			gap: 1rem;
			margin-bottom: 0.25rem;

			.content-text {
				flex: 1;

				h4 {
					font-size: 1rem;
					margin: 0 0 3px 0;
					font-weight: 500;
				}

				p {
					font-size: 13px;
					margin: 0 0 0.25rem 0;
					line-height: 1.3;
				}
			}

			.external-icon {
				flex-shrink: 0;
				margin-top: 0.25rem;
			}
		}
	}

	// Portfolio image styling
	.portfolio-image {
		@extend .image-container !optional;
		margin-bottom: 0.75rem;
	}

	// Styling for portfolio items with a linked write-up
	&.has-writeup {
		@extend .card-base !optional;
		background: rgba(255, 255, 255, 0.7);
		backdrop-filter: blur(5px);
		border: 1px solid rgba(variables.$text-color-secondary, 0.1);
		box-shadow: variables.$shadow-soft;

		// Only modify the company-byline styling
		.company-byline {
			color: variables.$text-color-secondary;
		}

		// Only modify the external-icon styling to indicate clickability
		.external-icon {
			background: rgba(0, 0, 0, 0.05);
			border-color: rgba(0, 0, 0, 0.05);
			color: variables.$text-color-secondary;

			&:hover {
				background: variables.$link-color;
				border-color: variables.$link-color;
				color: variables.$white;
			}
		}

		&:hover {
			background-color: rgba(0, 0, 0, 0.02);
			text-decoration: none;

			.title-row h4 {
				color: variables.$link-color;
			}
		}
	}

	&:hover {
		background-color: rgba(0, 0, 0, 0.02);
		text-decoration: none;

		.title-row {
			h4 {
				color: variables.$link-color;
			}
		}
	}
}

/* Light mode portfolio item styles (outside of media query for default styling) */
.portfolio-item.has-writeup {
	/* Light mode appearance - default styling */
	background: rgba(255, 255, 255, 0.7);
	backdrop-filter: blur(5px);
	border: 1px solid rgba(variables.$text-color-secondary, 0.1);
	box-shadow: variables.$shadow-soft;
	color: variables.$text-color;

	/* Portfolio image styling in light mode */
	.portfolio-image {
		margin: 0 0 12px 0;
		border-radius: 6px;
		overflow: hidden;
		max-height: 150px;
		border: 1px solid rgba(0, 0, 0, 0.05);
		display: flex;
		align-items: center;
		justify-content: center;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: none;
		}
	}

	&:hover {
		background-color: rgba(0, 0, 0, 0.02);
		text-decoration: none;

		.title-row h4 {
			color: variables.$link-color;
		}
	}

	h3 {
		color: variables.$text-color;

		a {
			color: inherit;

			&:hover {
				color: variables.$link-color;
				text-decoration: none;
			}
		}
	}

	h4 {
		color: variables.$text-color;
	}

	.company-byline {
		color: variables.$text-color-secondary;
	}

	p {
		color: variables.$text-color;
	}

	.content-accordion {
		border-top-color: rgba(0, 0, 0, 0.05);

		summary {
			color: variables.$text-color-secondary;

			&:hover {
				color: variables.$primary-color;
			}
		}

		.accordion-content {
			color: variables.$text-color;
			background: rgba(0, 0, 0, 0.02);
		}
	}
}

/* Light mode portfolio items without writeup */
.portfolio-item:not(.has-writeup) {
	background: transparent;
	backdrop-filter: blur(5px);
	border: 1px solid rgba(0, 0, 0, 0.05);
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
	cursor: default;
	opacity: 0.85;

	&:hover {
		transform: none;
		box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
	}

	/* Muted text colors for non-clickable items */
	h4 {
		color: hsl(35, 15%, 40%);
	}

	p {
		color: hsl(35, 15%, 45%);
	}
}

/* Light mode portfolio-items styles */
.portfolio-items {
	/* Light mode appearance - default styling */
	background: rgba(255, 255, 255, 0.7);
	backdrop-filter: blur(5px);
	border: 1px solid rgba(variables.$text-color-secondary, 0.1);
	box-shadow: variables.$shadow-soft;
	color: variables.$text-color;

	h3 {
		font-size: 1rem;
		margin: 0.25rem 0 0.1rem 0;
		line-height: 1.4;

		a {
			color: inherit;
			text-decoration: none;
			display: flex;
			flex-direction: row;
			align-items: flex-start;
			justify-content: space-between;
			gap: 0.5rem;

			&:hover {
				color: variables.$link-color;
				text-decoration: none;
			}

			.link-text-group {
				@extend .link-text !optional;
			}
		}
	}

	.post-byline,
	.company-byline {
		@extend .byline-base !optional;
	}

	p {
		font-size: 13px;
		margin: 0 0 0.25rem 0;
		line-height: 1.3;
		color: variables.$text-color;
	}

	.link-source {
		font-size: 0.75rem;
		margin-top: 0;
		margin-bottom: 0;
		border-top: 1px solid rgba(0, 0, 0, 0.05);
		padding-top: 0.25rem;

		.link-url {
			font-size: 9px;
			color: variables.$text-color-secondary;
			opacity: 0.8;
		}
	}

	.content-accordion {
		@extend .content-accordion !optional;
	}

	.link-text-group {
		@extend .link-text !optional;
	}
}

/* Dark mode portfolio item styles */
@media (prefers-color-scheme: dark) {
	.portfolio-item.has-writeup {
		/* Dark mode appearance - only affecting card styling */
		background: rgba(20, 20, 20, 0.7);
		backdrop-filter: blur(5px);
		border: 1px solid rgba(255, 255, 255, 0.1);
		color: variables.$text-color-dark;
		box-shadow: variables.$shadow-soft-dark;

		&:hover {
			background-color: rgba(30, 30, 30, 0.8);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

			.title-row h4 {
				color: variables.$link-color-dark;
			}
		}

		/* Dark mode styling for company-byline */
		.company-byline {
			color: variables.$grey-dark;
			opacity: 0.8;
		}

		/* Dark mode external icon - to indicate clickability */
		.external-icon {
			background: rgba(255, 255, 255, 0.1);
			border-color: rgba(255, 255, 255, 0.05);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
				color: variables.$white;
			}
		}

		/* Portfolio image styling in dark mode */
		.portfolio-image {
			margin: 0 0 12px 0;
			border-radius: 6px;
			overflow: hidden;
			max-height: 150px;
			border: 1px solid rgba(255, 255, 255, 0.1);
			display: flex;
			align-items: center;
			justify-content: center;

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: none;
			}
		}

		&:hover .portfolio-image img {
			transform: none;
		}
	}

	/* Dark mode portfolio-items styles */
	.portfolio-items {
		background: rgba(20, 20, 20, 0.7);
		backdrop-filter: blur(5px);
		border: 1px solid rgba(255, 255, 255, 0.1);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);

		&:hover {
			background-color: rgba(30, 30, 30, 0.8);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		}

		h3 {
			color: variables.$white;

			a {
				color: variables.$white;

				&:hover {
					color: variables.$link-color-dark;

					.external-icon {
						background: variables.$link-color-dark;
						color: variables.$white;
					}
				}

				.link-text-group {
					color: variables.$white;
				}
			}
		}

		.post-byline,
		.company-byline {
			color: variables.$grey-dark;
		}

		p {
			color: variables.$grey-light;
		}

		.link-source {
			border-top-color: rgba(255, 255, 255, 0.05);

			.link-url {
				color: variables.$grey-dark;
			}
		}

		.content-accordion {
			border-top-color: rgba(255, 255, 255, 0.05);

			summary {
				color: variables.$grey-dark;

				&:hover {
					color: variables.$link-color-dark;
				}
			}

			.accordion-content {
				color: variables.$grey-dark;
				background: rgba(255, 255, 255, 0.03);
			}
		}

		.external-icon {
			background: rgba(255, 255, 255, 0.1);
			border-color: rgba(255, 255, 255, 0.05);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
			}
		}
	}

	/* General dark mode text styling for all portfolio items */
	.portfolio-item {
		h4 {
			color: variables.$white;
		}

		p {
			color: variables.$grey-light;
		}

		/* Muted text colors for non-clickable items in dark mode */
		&:not(.has-writeup) {
			h4 {
				color: hsl(0, 0%, 60%);
			}

			p {
				color: hsl(0, 0%, 50%);
			}
		}
	}
}

.title-row {
	.external-icon {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 24px;
		height: 24px;
		border-radius: 50%;
		background: rgba(0, 0, 0, 0.05);
		border: 1px solid rgba(0, 0, 0, 0.05);
		color: variables.$text-color-secondary;
		font-size: 14px;
		transition: all 0.2s ease;

		&:hover {
			background: variables.$link-color;
			border-color: variables.$link-color;
			color: variables.$white;
		}
	}
}