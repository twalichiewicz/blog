@use 'variables';
@use 'shared-components';
@use "sass:color";

/* ==========================================================================
   Theme Modes - Dark/Light Mode Styles
   
   This file contains all dark mode and light mode specific styles that
   were previously in _responsive-layouts.scss
   ========================================================================== */

/* Smooth transitions between light and dark mode */
.blog {
	transition:
		background-color 0.5s ease,
		color 0.5s ease;

	.blog-content {
		transition:
			background-color 0.5s ease,
			box-shadow 0.5s ease,
			border-color 0.5s ease;
	}

	.profile-header,
	.post-list-item,
	.profile-photo,
	h1,
	h2,
	h3,
	h4,
	h5,
	h6,
	p,
	a,
	button,
	.button,
	.profile-name,
	.profile-bio,
	.profile-stats .stat .number,
	.profile-stats .stat .label,
	pre,
	code,
	blockquote,
	.contact-button,
	.contact-option {
		transition:
			color 0.3s ease,
			background-color 0.3s ease,
			border-color 0.3s ease,
			box-shadow 0.3s ease;
	}
}

/* Dark mode media queries */
@media (prefers-color-scheme: dark) {
	.blog {
		/* Set CSS variable for dark mode */
		--bg-color: rgb(20 20 20 / 70%);

		/* Dark mode for blog header */
		&.blog .profile-header {
			.profile-info {
				.profile-name {
					text-shadow:
						0 1px 1px rgb(255 255 255 / 20%),
						0 -1px 1px rgba(variables.$black, 0.4);
					color: variables.$white !important;
				}

				.profile-bio {
					color: variables.$grey-dark !important;
				}

				.profile-stats .stat {
					.number {
						color: variables.$white !important;
					}

					.label {
						color: variables.$grey-dark !important;
					}
				}
			}

			.profile-photo {
				box-shadow:
					0 0 0 1px rgba(variables.$white, 0.2),
					0 0 0 2px rgba(variables.$black, 0.3),
					inset 0 2px 8px rgba(variables.$black, 0.6),
					inset 0 -4px 8px rgba(variables.$white, 0.1);
				background: linear-gradient(145deg,
						rgba(variables.$white, 0.05),
						rgba(variables.$black, 0.2));
			}

			.contact-wrapper {
				.contact-button {
					background: rgba(variables.$card-bg-dark, 0.7);
					border-color: rgba(variables.$border-color-dark, 0.5);
					color: variables.$text-color-dark;
					box-shadow: 0 1px 2px rgb(0 0 0 / 10%);

					&:hover {
						background: rgba(variables.$link-color-dark, 0.2);
						color: variables.$link-color-dark;
					}

					&.active {
						background: rgba(variables.$link-color-dark, 0.8);
						color: variables.$black;
						border-color: rgba(variables.$link-color-dark, 0.6);
					}
				}

				.contact-options {
					background: rgba(variables.$card-bg-dark, 0.7);
					border-color: rgba(variables.$border-color-dark, 0.5);
					box-shadow: 0 4px 8px rgb(0 0 0 / 20%);
					backdrop-filter: blur(4px);

					.contact-option {
						background: transparent;
						border-color: rgba(variables.$border-color-dark, 0.4);
						color: variables.$text-color-dark;

						&:hover {
							background: rgba(variables.$link-color-dark, 0.2);
							color: variables.$link-color-dark;
						}

						&:active {
							background: rgba(variables.$link-color-dark, 0.3);
						}
					}
				}
			}
		}

		/* Desktop contact options in dark mode */
		@media screen and (min-width: variables.$mobile-breakpoint) {
			.contact-wrapper {
				.contact-options {
					background: rgba(variables.$card-bg-dark, 0.6);
					border-color: rgba(variables.$border-color-dark, 0.4);
					box-shadow: 0 2px 4px rgb(0 0 0 / 15%);
					backdrop-filter: blur(4px);

					.contact-option {
						background: transparent;
						color: variables.$text-color-dark;

						&:hover {
							background: rgba(variables.$link-color-dark, 0.2);
							color: variables.$link-color-dark;
						}

						&:active {
							background: rgba(variables.$link-color-dark, 0.3);
						}

						&:not(:last-child) {
							border-right-color: rgba(variables.$border-color-dark, 0.4);
						}
					}
				}
			}
		}

		/* Global dark mode style for external-icon */
		.external-icon {
			background: rgb(255 255 255 / 10%);
			border-color: rgb(255 255 255 / 5%);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
				color: variables.$white;
			}
		}

		/* Dark mode for blog header on mobile - background from .blog */
		@media (max-width: variables.$mobile-breakpoint) {
			.blog-header {
				background-color: transparent;
			}

			/* Dark mode content area on mobile */
			.blog-content .content-wrapper {
				background: var(--bg-color-dark, #1a1a1a);
			}
		}

		/* Headings in dark mode - apply to all screen sizes */
		.blog-content .content-wrapper {

			#postsContent,
			#projectsContent {

				/* Headings in dark mode */
				h1,
				h2,
				h3,
				h4,
				h5,
				h6 {
					color: variables.$white;

					a {
						color: variables.$white;

						&:hover {
							color: variables.$link-color-dark;
						}
					}
				}
			}
		}

		/* Dark mode for blog content on tablet and desktop */
		@media screen and (min-width: variables.$mobile-breakpoint) {
			.blog-content {
				box-shadow:
					0 4px 20px rgb(0 0 0 / 30%),
					0 0 0 1px variables.$border-color-dark;

				/* Content wrapper styling */
				.content-wrapper {
					/* Darker background with subtle gradient */
					background: linear-gradient(to bottom right,
							hsl(28deg 8% 18%) 0%,
							hsl(28deg 10% 15%) 100%);
					border-radius: 12px;
					box-shadow: variables.$shadow-soft-dark;

					&::-webkit-scrollbar-thumb {
						background-color: rgb(255 255 255 / 10%);
						border-radius: 3px;
					}

					&::-webkit-scrollbar-track {
						background: rgb(0 0 0 / 20%);
						border-radius: 3px;
					}

					#postsContent,
					#projectsContent {
						background: transparent;
						border-radius: 0;
						box-shadow: none;

						.column-title {
							color: variables.$white;
							border-bottom: 1px solid variables.$border-color-dark;
						}

						/* Post styling in dark mode */
						.post-list-item {
							border-bottom-color: variables.$border-color-dark;

							h3 {
								a {
									color: variables.$white;
									text-decoration: underline;
									text-decoration-style: dotted;
									text-underline-offset: 4px;
									text-decoration-thickness: 1px;

									&:hover {
										color: variables.$link-color-dark;
										text-decoration-style: solid;
									}
								}
							}

							p {
								color: variables.$text-color-secondary-dark;
							}

							ul,
							ol {
								li {
									color: variables.$text-color-secondary-dark !important;
								}
							}

							.post-byline {
								color: variables.$grey-dark;
							}

							.post-date {
								color: variables.$grey-dark;
							}

							.post-tags {
								.tag {
									background: rgb(255 255 255 / 5%);
									border: 1px solid variables.$border-color-dark;
									color: variables.$grey-dark;

									&:hover {
										background: variables.$link-color-dark;
										color: variables.$black;

									}
								}
							}

							/* Only apply hover effects to post-long items */
							&.post-long {
								transition: variables.$transition-standard;

								&:hover {
									background-color: rgb(30 30 30 / 80%);
									transform: translateY(-2px);
								}
							}
						}

						/* Code blocks in dark mode */
						pre,
						code {
							background: rgb(0 0 0 / 30%);
							border: 1px solid variables.$border-color-dark;
							color: variables.$grey-light;
						}

						/* Images in dark mode */
						img,
						video {
							filter: brightness(0.9);
							border: 1px solid variables.$border-color-dark;
							box-shadow: variables.$shadow-soft-dark;
						}

						/* Links in dark mode */
						a:not(.button) {
							color: variables.$link-color-dark;
							text-decoration: none;
							transition: all 0.2s ease;

							&:hover {
								color: color.adjust(variables.$link-color-dark, $lightness: 10%);
								text-decoration: none;
							}
						}

						/* Lists in dark mode */
						ul,
						ol {
							li {
								color: variables.$text-color-secondary-dark !important;
							}
						}
					}
				}
			}
		}

		/* Specific styles for tablet (using media query instead of device class) */
		@media (min-width: 769px) and (max-width: 1024px) {
			.blog-content {
				background: linear-gradient(135deg,
						hsl(28deg 10% 12%) 0%,
						hsl(28deg 8% 16%) 100%);

				/* Tablet-specific content styling */
				.content-wrapper {
					/* Subtle glow effect on content containers */
					box-shadow:
						variables.$shadow-soft-dark,
						0 0 20px rgba(variables.$link-color-dark, 0.05);

					/* Border removed - handled by blog-content-borders.scss */

					#postsContent,
					#projectsContent {
						/* Remove any box-shadow that might be inherited */
						box-shadow: none;
						border: none;

						/* Tablet-specific portfolio item styling */
						.portfolio-item {
							box-shadow: 0 2px 6px rgb(0 0 0 / 15%);

							&:hover {
								box-shadow: 0 4px 12px rgb(0 0 0 / 25%),
									0 0 0 1px rgba(variables.$link-color-dark, 0.15);
							}
						}
					}
				}

				/* Scrollbar styling for tablet */
				::-webkit-scrollbar {
					width: 6px;
					height: 6px;
				}

				::-webkit-scrollbar-track {
					background: rgb(0 0 0 / 20%);
					border-radius: 4px;
				}

				::-webkit-scrollbar-thumb {
					background: rgba(variables.$link-color-dark, 0.3);
					border-radius: 4px;

					&:hover {
						background: rgba(variables.$link-color-dark, 0.5);
					}
				}
			}
		}

		/* Specific styles for desktop (using media query instead of device class) */
		@media (min-width: 1025px) {
			.blog-content {
				background: linear-gradient(135deg,
						hsl(28deg 10% 14%) 0%,
						hsl(28deg 8% 10%) 100%);
				/* Removed backdrop-filter for Chrome performance */

				/* Chrome fix: Simplified for better performance */

				/* Desktop-specific content styling */
				.content-wrapper {

					/* Add subtle grain texture */
					&::before {
						content: '';
						position: absolute;
						inset: 0;
						background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
						opacity: 0.03;
						pointer-events: none;
						z-index: -1;
					}

					/* Enhanced shadow for desktop */
					box-shadow: 0 4px 20px rgb(0 0 0 / 20%),
					0 0 30px rgba(variables.$link-color-dark, 0.05);

					/* Subtle border highlight */
					border: 1px solid variables.$link-color-dark;
					border-color: rgba(variables.$link-color-dark, 0.15);

					/* Smooth transition for hover effects */
					transition: all 0.3s ease,
					transform 0.3s ease;

					&:hover {
						box-shadow:
							0 6px 25px rgb(0 0 0 / 25%),
							0 0 40px rgba(variables.$link-color-dark, 0.08);
						transform: translateY(-2px);
					}

					#postsContent,
					#projectsContent {
						/* Remove any box-shadow that might be inherited */
						box-shadow: none;
						border: none;

						/* Enhanced post item styling */
						.post-list-item {
							position: relative;
							overflow: hidden;

							&::after {
								content: '';
								position: absolute;
								bottom: 0;
								left: 0;
								width: 100%;
								height: 1px;
								background: linear-gradient(to right,
										transparent,
										rgba(variables.$link-color-dark, 0.2),
										transparent);
							}

							&:last-child::after {
								display: none;
							}

							/* Add subtle hover effect only to post-long items */
							&.post-long:hover {
								background-color: rgb(30 30 30 / 80%);
								transform: translateY(-2px);

								h3 {
									color: variables.$link-color-dark;
								}
							}
						}

						/* Enhanced portfolio item styling for desktop */
						.portfolio-item {
							box-shadow: 0 2px 8px rgb(0 0 0 / 20%);

							/* Removed transform to fix Chrome rendering issues */

							&:hover {
								box-shadow: 0 6px 16px rgb(0 0 0 / 30%),
									0 0 0 1px rgba(variables.$link-color-dark, 0.2);
								background-color: rgb(255 255 255 / 10%);
							}

							&.has-writeup {
								background: rgb(20 20 20 / 70%);
								/* Removed backdrop-filter for Chrome performance */
								border: 1px solid rgb(255 255 255 / 10%);
								color: variables.$text-color-dark;
								box-shadow: variables.$shadow-soft-dark;

								&:hover {
									background-color: rgb(30 30 30 / 80%);
									box-shadow: 0 4px 12px rgb(0 0 0 / 15%);
								}

								/* Dark mode typography */
								.company-byline {
									color: variables.$grey-dark;
									opacity: 0.8;
								}

								h3 {
									font-size: var(--font-size-base);
									margin: 0.25rem 0 0.1rem;
									line-height: var(--line-height-tight).4;

									a {
										color: variables.$white;
										text-decoration: underline;
										text-decoration-style: dotted;
										text-underline-offset: 4px;
										text-decoration-thickness: 1px;

										&:hover {
											color: variables.$link-color-dark;
											text-decoration-style: solid;
										}
									}
								}

								p {
									color: variables.$grey-light;
								}

								.external-icon {
									/* Dark mode appearance only - structure comes from _components.scss */
									background: rgb(255 255 255 / 10%);
									border-color: rgb(255 255 255 / 5%);
									color: variables.$white;

									&:hover {
										background: variables.$link-color-dark;
										color: variables.$white;
									}
								}

								/* Dark mode accordion */
								.content-accordion {
									border-top-color: rgb(255 255 255 / 5%);

									summary {
										color: variables.$grey-dark;

										&:hover {
											color: variables.$link-color-dark;
										}
									}

									.accordion-content {
										color: variables.$grey-dark;
										background: rgb(255 255 255 / 3%);
									}
								}
							}

							&:not(.has-writeup):hover {
								transform: none;
								box-shadow: none;
								background: hsl(35deg 10% 75%);
							}
						}

						/* Enhance scrollbar for better visibility */
						&::-webkit-scrollbar {
							width: 8px;
						}

						&::-webkit-scrollbar-track {
							background: rgb(0 0 0 / 20%);
							border-radius: 4px;
						}

						&::-webkit-scrollbar-thumb {
							background: rgba(variables.$link-color-dark, 0.3);
							border-radius: 4px;

							&:hover {
								background: rgba(variables.$link-color-dark, 0.5);
							}
						}
					}
				}

				/* Custom scrollbar for desktop */
				::-webkit-scrollbar {
					width: 8px;
					height: 8px;
				}

				::-webkit-scrollbar-track {
					background: rgb(0 0 0 / 20%);
					border-radius: 4px;
				}

				::-webkit-scrollbar-thumb {
					background: rgba(variables.$link-color-dark, 0.3);
					border-radius: 4px;

					&:hover {
						background: rgba(variables.$link-color-dark, 0.5);
					}
				}
			}
		}

		/* Dark mode for blog list items */
		&.blog .blog-list .post-list-item {
			.post-byline {
				color: variables.$grey-dark;
			}

			h3 a {
				color: variables.$white;
				text-decoration: underline;
				text-decoration-style: dotted;
				text-underline-offset: 4px;
				text-decoration-thickness: 1px;

				&:hover {
					color: variables.$link-color-dark;
					text-decoration-style: solid;
				}
			}

			p {
				color: variables.$grey-dark;

				a {
					color: variables.$link-color-dark;

					&:hover {
						color: variables.$link-color-dark;
					}
				}
			}

			ul,
			ol {
				li {
					color: var(--blog-list-text-color, hsl(24, 4.49%, 78.01%)) !important;

					a {
						color: variables.$link-color-dark;

						&:hover {
							color: variables.$link-color-dark;
						}
					}
				}
			}

			/* Dark mode styling for post-long */
			&.post-long {
				background: rgb(20 20 20 / 70%);
				/* Removed backdrop-filter for Chrome performance */
				border: 1px solid rgb(255 255 255 / 10%);
				color: variables.$text-color-dark;
			}

			/* Dark mode styling for post-link - should have no background or border */
			&.post-link {
				background: none;
				border: none;
				color: variables.$text-color-dark;

				.link-share {
					.link-excerpt {
						color: variables.$white;

						p {
							color: inherit;
						}
					}

					.post-link-wrapper.post-long {
						color: variables.$white;
						text-decoration: none;

						&:hover {
							color: variables.$link-color-dark;

							.external-icon {
								background: variables.$link-color-dark;
								color: variables.$white;
							}
						}

						.link-text-group {
							color: variables.$white;
						}
					}

					.link-source {
						border-top-color: rgb(255 255 255 / 5%);

						.link-url {
							color: variables.$grey-dark;
							text-decoration: none;
						}
					}
				}

				.content-accordion {
					border-top-color: rgb(255 255 255 / 5%);

					summary {
						color: variables.$grey-dark;

						&::before {
							opacity: 0.5;
						}

						&:hover {
							color: variables.$link-color-dark;

							&::before {
								opacity: 0.8;
							}
						}
					}

					.accordion-content {
						color: variables.$grey-dark;
						background: rgb(255 255 255 / 3%);
					}
				}
			}
		}

		/* Dark mode for tabs and buttons */
		&.blog .tab-button {
			color: variables.$grey-dark;

			&.active {
				background: variables.$link-color-dark;
				color: variables.$white;
			}

			&:hover:not(.active) {
				color: variables.$link-color-dark;
			}
		}

		p {
			color: variables.$text-color-dark;
		}

		/* Dark mode for lists to match paragraph styling */
		ul,
		ol {
			color: variables.$text-color-dark;

			li {
				color: variables.$text-color-dark !important;
			}
		}

		.blog-list .post-list-item .post-byline {
			color: variables.$text-color-secondary-dark;
		}

		.view-toggle {
			background-color: hsl(28deg 10% 12%);

			.segmented-button {
				background: rgb(0 0 0 / 30%);

				button.active {
					background: variables.$link-color-dark;
				}
			}
		}

		.post-list-item h2 a,
		.post-list-item h3 a,
		.archive-link a,
		.page-navigation button {
			color: variables.$link-color-dark;
		}

		.profile-header {
			.profile-photo {
				box-shadow:
					0 0 0 1px rgb(255 255 255 / 20%),
					0 0 0 2px rgb(0 0 0 / 30%),
					inset 0 2px 8px rgb(0 0 0 / 60%),
					inset 0 -4px 8px rgb(255 255 255 / 10%);
				background: linear-gradient(145deg,
						rgb(255 255 255 / 5%),
						rgb(0 0 0 / 20%));
			}
		}

		.project-separator {
			background: linear-gradient(to right,
					transparent,
					rgba(variables.$border-color-dark, 0.2),
					transparent);
			box-shadow: 0 0 1px rgba(variables.$border-color-dark, 0.05);
		}

		/* Dark mode for desktop widgets - Removed */

		/* Dark mode for blog header wave */
		.blog-header-wave {
			opacity: 0.15;
		}

		/* Dark mode for portfolio items */
		#projectsContent.portfolio-list {
			.company-group {
				.company-name {
					color: variables.$text-color-secondary-dark;
					border-bottom-color: variables.$border-color-dark;

					.company-years {
						color: variables.$text-color-secondary-dark;
					}
				}
			}
		}

		/* Dark mode for portfolio item cards */
		.portfolio-item {
			/* Dark mode appearance - only affecting card styling */
			background: rgb(20 20 20 / 70%);
			backdrop-filter: blur(5px);
			backdrop-filter: blur(5px);
			border: 1px solid rgb(255 255 255 / 10%);
			color: variables.$text-color-dark;
			box-shadow: variables.$shadow-soft-dark;

			&:hover {
				background-color: rgb(30 30 30 / 80%);
				box-shadow: 0 4px 12px rgb(0 0 0 / 15%);

				.title-row h4 {
					// Remove hover effect
				}
			}

			/* Dark mode styling for company-byline */
			.company-byline {
				color: variables.$grey-dark;
				opacity: 0.8;
			}

			/* Dark mode external icon - to indicate clickability */
			.external-icon {
				background: rgb(255 255 255 / 10%);
				border-color: rgb(255 255 255 / 5%);
				color: variables.$white;

				&:hover {
					background: variables.$link-color-dark;
					color: variables.$white;
				}
			}

			/* Muted text colors for non-clickable items in dark mode */
			&:not(.has-writeup) {
				background: transparent; // Explicit for dark non-hover
				border: 1px solid rgb(255 255 255 / 10%); // Better dark mode border
				box-shadow: 0 1px 2px rgb(0 0 0 / 3%); // Minimal dark shadow

				h4 {
					color: hsl(0deg 0% 65%);
					opacity: 0.9;
				}

				p {
					color: hsl(0deg 0% 60%);
					opacity: 0.8;
				}

				/* Dark mode overrides for portfolio items without cover images */
				&:not([data-cover-image="true"]) {
					.portfolio-content .title-row .content-text h4 {
						color: variables.$white !important;
					}
				}

				/* Dark mode overrides for portfolio items with cover images but no writeup */
				&[data-cover-image="true"]:not(.has-writeup) {
					.portfolio-content .title-row .content-text h4 {
						color: white !important;
					}
				}
			}

			/* Dark mode overrides for portfolio items without cover images */
			&:not([data-cover-image="true"]) {
				.portfolio-content .title-row .content-text h4 {
					color: variables.$white !important;
				}
			}

			/* Dark mode overrides for portfolio items with cover images but no writeup */
			&[data-cover-image="true"]:not(.has-writeup) {
				.portfolio-content .title-row .content-text h4 {
					color: white !important;
				}
			}
		}

		/* Dark mode for carousel buttons */
		.carousel .carousel-button,
		.spotlight .carousel-button,
		.spotlight .spotlight-nav-button {
			box-shadow: 0 1px 3px rgb(0 0 0 / 20%),
				0 1px 2px rgb(0 0 0 / 12%),
				inset 0 2px 4px rgb(0 0 0 / 20%),
				inset 0 -1px 2px rgb(255 255 255 / 5%);
		}

		/* Dark mode for blockquotes */
		blockquote {
			--bg-color: rgb(255 255 255 / 3%);

			background-color: rgb(255 255 255 / 3%) !important;
			background: rgb(255 255 255 / 3%) !important;
			border-left-color: rgb(255 255 255 / 5%);
			color: variables.$text-color-dark !important;

			p {
				color: variables.$text-color-dark !important;
			}
		}

		/* Dark mode for figcaptions */
		figcaption {
			color: variables.$text-color-secondary-dark;
		}

		/* Dark mode for portfolio-items - see consolidated section at end of file */
	}

	/* Add a properly structured rule for desktop portfolio items in dark mode */
	@media (prefers-color-scheme: dark) {
		/* Desktop-specific dark mode styles moved to consolidated section at the end of file */
	}

	.title-row {
		.external-icon {
			background: rgb(255 255 255 / 10%);
			border-color: rgb(255 255 255 / 5%);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
				color: variables.$white;
			}
		}
	}

	/* General dark mode text styling for all portfolio items */
	.portfolio-item {
		h4 {
			color: variables.$white;
		}

		p {
			color: variables.$grey-light;
		}

		/* Muted text colors for non-clickable items in dark mode */
		&:not(.has-writeup) {
			background: transparent; // Explicit for dark non-hover
			border: 1px solid rgb(255 255 255 / 10%); // Better dark mode border
			box-shadow: 0 1px 2px rgb(0 0 0 / 3%); // Minimal dark shadow

			h4 {
				color: hsl(0deg 0% 65%);
				opacity: 0.9;
			}

			p {
				color: hsl(0deg 0% 60%);
				opacity: 0.8;
			}

			/* Dark mode overrides for portfolio items without cover images */
			&:not([data-cover-image="true"]) {
				.portfolio-content .title-row .content-text h4 {
					color: variables.$white !important;
				}
			}

			/* Dark mode overrides for portfolio items with cover images but no writeup */
			&[data-cover-image="true"]:not(.has-writeup) {
				.portfolio-content .title-row .content-text h4 {
					color: white !important;
				}
			}
		}
	}

	.portfolio-item.has-writeup {
		/* Dark mode appearance - only affecting card styling */
		background: rgb(20 20 20 / 70%);
		backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		border: 1px solid rgb(255 255 255 / 10%);
		color: variables.$text-color-dark;
		box-shadow: variables.$shadow-soft-dark;

		&:hover {
			background-color: rgb(30 30 30 / 80%);
			box-shadow: 0 4px 12px rgb(0 0 0 / 15%);

			.title-row h4 {
				color: variables.$link-color-dark;
			}
		}

		/* Dark mode styling for company-byline */
		.company-byline {
			color: variables.$grey-dark;
			opacity: 0.8;
		}

		/* Dark mode external icon - to indicate clickability */
		.external-icon {
			background: rgb(255 255 255 / 10%);
			border-color: rgb(255 255 255 / 5%);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
				color: variables.$white;
			}
		}

		/* Portfolio image dark mode specific styling */
		.portfolio-image {
			border: 1px solid rgb(255 255 255 / 10%);
		}

		&:hover .portfolio-image img,
		&:hover .portfolio-image video {
			transform: none;
		}
	}

	/* Dark mode mobile tabs styling - MOVED TO _components.scss */

	/* Removing this section to avoid conflicts */
}

/* Light mode specific overrides if needed */
@media (prefers-color-scheme: light) {
	.blog {
		/* Light mode specific styles for a more premium look */

		/* Enhanced content wrapper styling for light mode */
		@media screen and (min-width: variables.$mobile-breakpoint) {
			.blog-content {
				/* Subtle gradient background for the blog content */
				background: linear-gradient(135deg,
						hsl(35deg 15% 94%) 0%,
						hsl(35deg 10% 98%) 100%);

				/* Content wrapper styling */
				.content-wrapper {
					/* Premium off-white background with subtle warmth */
					background: linear-gradient(to bottom right,
							hsl(35deg 20% 98%) 0%,
							hsl(35deg 15% 96%) 100%);
					box-shadow:
						0 2px 12px rgb(0 0 0 / 3%),
						0 0 0 1px rgb(0 0 0 / 2%);

					/* Add subtle texture */
					&::before {
						content: '';
						position: absolute;
						inset: 0;
						background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
						opacity: 0.02;
						pointer-events: none;
						z-index: -1;
					}

					/* Smooth transition for hover effects */
					transition: all 0.3s ease;

					&:hover {
						box-shadow:
							0 4px 16px rgb(0 0 0 / 5%),
							0 0 0 1px rgb(0 0 0 / 3%);
					}

					#postsContent,
					#projectsContent {
						.post-list-item {

							/* Only apply hover effects to post-long items in light mode */
							&.post-long {
								transition: all 0.3s ease;
								background: rgb(255 255 255 / 70%);
								backdrop-filter: blur(5px);
								backdrop-filter: blur(5px);
								border: 1px solid variables.$text-color-secondary;
								border-color: rgba(variables.$text-color-secondary, 0.1);
								box-shadow: variables.$shadow-soft;
								color: variables.$text-color;

								&:hover {
									background-color: rgb(0 0 0 / 2%);
								}
							}
						}
					}
				}
			}
		}
		
		/* Mobile overrides for light mode */
		@media screen and (max-width: variables.$mobile-breakpoint) {
			.blog-content {
				background: transparent;
				box-shadow: none;
				border: none;

				.content-wrapper {
					// Solid white background for content area
					background: var(--bg-color, #fff);
					box-shadow: none;
					border: none;

					&::before {
						display: none;
					}
				}
			}
		}

		/* Specific styles for tablet in light mode (using media query instead of device class) */
		@media (min-width: 769px) and (max-width: 1024px) {
			.blog-content {
				background: linear-gradient(135deg,
						hsl(35deg 15% 92%) 0%,
						hsl(35deg 10% 98%) 100%);

				.content-wrapper {
					/* Subtle glow effect on content containers */
					box-shadow:
						variables.$shadow-soft,
						0 0 20px rgba(variables.$accent-gold, 0.05);

					/* Border removed - handled by blog-content-borders.scss */
				}
			}
		}

		/* Specific styles for desktop in light mode (using media query instead of device class) */
		@media (min-width: 1025px) {
			.blog-content {
				background: linear-gradient(135deg,
						hsl(35deg 15% 94%) 0%,
						hsl(35deg 10% 98%) 100%);
				/* Removed backdrop-filter to improve Chrome performance */
			}
		}

		/* Light mode portfolio item styles - see consolidated section at end of file */

		/* Portfolio image light mode specific styling */
		.portfolio-item .portfolio-image {
			border: 1px solid rgb(0 0 0 / 10%);
		}
	}
}

/* ==========================================================================
   Consolidated Portfolio Item Theme Styles
   
   This section contains all color-related styles for portfolio items
   for both light and dark modes, consolidated from _portfolio.scss
   ========================================================================== */

/* Company name styling - section heading for portfolio items */
.company-name {
	font-size: var(--font-size-base);
	font-weight: var(--font-weight-semibold);
	margin: 1.5rem 0 0.75rem;
	padding-bottom: 0.5rem;
	border-bottom: 1px solid rgb(0 0 0 / 10%);
	color: variables.$text-color;
	display: flex;
	justify-content: space-between;
	align-items: baseline;

	.company-years {
		font-size: 0.85rem;
		font-weight: var(--font-weight-normal);
		color: variables.$text-color-secondary;
		margin-left: 0.5rem;
	}

	/* First company name should have less top margin */
	&:first-of-type {
		margin-top: 1.5rem;
	}
}

/* Common portfolio item styles (outside of media queries) */
.portfolio-item {
	/* Common structural styles */
	transition: variables.$transition-standard;
	border-radius: 12px;
	padding: 0.75rem;
	margin: 0.75rem 0;
	display: flex;
	flex-direction: column;
	overflow: hidden;
	text-decoration: none;

	&:hover {
		transform: translateY(-2px);
	}

	/* Base portfolio image styling for all modes */
	.portfolio-image {
		margin: 0 0 12px;
		border-radius: 6px;
		overflow: hidden;
		max-height: 150px;
		display: flex;
		align-items: center;
		justify-content: center;

		img,
		video {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: none;
		}
	}

	// Common styling for company-byline
	.company-byline {
		@extend .byline-base !optional;

		margin-bottom: 6px;
	}

	// Common styling for portfolio content
	.portfolio-content {
		padding: 0.25rem 0;

		// Company byline should be separate from the title row
		.company-byline {
			margin-bottom: 0.25rem;
		}

		// Title row styling - new addition
		.title-row {
			display: flex;
			flex-direction: row;
			align-items: flex-start;
			justify-content: space-between;
			gap: normal;
			margin-bottom: 0.25rem;

			.content-text {
				flex: 1;

				h4 {
					font-size: var(--font-size-base);
					margin: 0 0 3px;
					font-weight: var(--font-weight-medium);
				}

				p {
					line-height: var(--line-height-tight).3;
				}
			}

			.external-icon {
				flex-shrink: 0;
				margin-top: 0.25rem;
			}
		}
	}

	// Portfolio image styling
	.portfolio-image {
		@extend .image-container !optional;

		margin-bottom: 0.75rem;
	}

	// Styling for portfolio items with a linked write-up
	&.has-writeup {
		@extend .card-base !optional;

		background: rgb(255 255 255 / 70%);
		backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		border: 1px solid variables.$text-color-secondary;
		border-color: rgba(variables.$text-color-secondary, 0.1);
		box-shadow: variables.$shadow-soft;

		// Only modify the company-byline styling
		.company-byline {
			color: variables.$text-color-secondary;
		}

		// Only modify the external-icon styling to indicate clickability
		.external-icon {
			background: rgb(0 0 0 / 5%);
			border-color: rgb(0 0 0 / 5%);
			color: variables.$text-color-secondary;

			&:hover {
				background: variables.$link-color;
				border-color: variables.$link-color;
				color: variables.$white;
			}
		}

		&:hover {
			background-color: rgb(0 0 0 / 2%);
			text-decoration: none;

			.title-row h4 {
				color: variables.$link-color;
			}
		}
	}

	&:hover {
		background-color: rgb(0 0 0 / 2%);
		text-decoration: none;

		.title-row {
			h4 {
				color: variables.$link-color;
			}
		}
	}
}

/* Light mode portfolio item styles (outside of media query for default styling) */
.portfolio-item.has-writeup {
	/* Light mode appearance - default styling */
	background: rgb(255 255 255 / 70%);
	backdrop-filter: blur(5px);
	backdrop-filter: blur(5px);
	border: 1px solid variables.$text-color-secondary;
	border-color: rgba(variables.$text-color-secondary, 0.1);
	box-shadow: variables.$shadow-soft;
	color: variables.$text-color;
	transition: all 300ms ease-in-out;

	/* Portfolio image styling in light mode */
	.portfolio-image {
		margin: 0 0 12px;
		border-radius: 6px;
		overflow: hidden;
		max-height: 150px;
		border: 1px solid rgb(0 0 0 / 5%);
		display: flex;
		align-items: center;
		justify-content: center;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: none;
		}
	}

	&:hover {
		background-color: rgb(0 0 0 / 2%);
		text-decoration: none;

		.title-row h4 {
			color: variables.$link-color;
		}
	}

	h3 {
		color: variables.$text-color;

		a {
			color: inherit;

			&:hover {
				color: variables.$link-color;
				text-decoration: none;
			}
		}
	}

	h4 {
		color: variables.$text-color;
	}

	.company-byline {
		color: variables.$text-color-secondary;
	}

	p {
		margin: 0;
		line-height: var(--line-height-tight).3;
		color: variables.$text-color;
	}

	.content-accordion {
		border-top-color: rgb(0 0 0 / 5%);

		summary {
			color: variables.$text-color-secondary;

			&:hover {
				color: variables.$primary-color;
			}
		}

		.accordion-content {
			color: variables.$text-color;
			background: rgb(0 0 0 / 2%);
		}
	}
}

/* Light mode portfolio items without writeup */
.portfolio-item:not(.has-writeup) {
	background: transparent;
	backdrop-filter: blur(5px);
	backdrop-filter: blur(5px);
	border: 1px solid rgb(0 0 0 / 5%);
	box-shadow: 0 1px 2px rgb(0 0 0 / 3%);
	cursor: default;
	opacity: 0.75;

	&:hover {
		transform: none;
		box-shadow: 0 1px 2px rgb(0 0 0 / 3%);
		background: transparent;

		h4 {
			color: hsl(35deg 10% 35%);
			opacity: 0.8;
		}

		@media (prefers-color-scheme: dark) {
			background: transparent;

			// Use a more appropriate dark mode border color if it was different, otherwise keep transparent or non-hover.
			// For now, assume the non-hover dark border is desired, or it will inherit.
			border-color: rgb(255 255 255 / 10%);
			box-shadow: 0 1px 2px rgb(0 0 0 / 3%); // Keep minimal dark shadow
			background-color: transparent !important; // Explicitly override any dark hover background

			.portfolio-item.has-writeup h4 {
				color: white;
			}
		}
	}

	/* Muted text colors for non-clickable items */
	h4 {
		color: hsl(35deg 10% 30%);
		opacity: 0.7;
	}

	p {
		margin: 0;
		line-height: var(--line-height-tight).3;
		color: hsl(35deg 10% 35%);
		opacity: 0.6;
	}
}

/* Light mode portfolio-items styles */
.portfolio-items {
	/* Light mode appearance - default styling */
	background: rgb(255 255 255 / 70%);
	backdrop-filter: blur(5px);
	backdrop-filter: blur(5px);
	border: 1px solid variables.$text-color-secondary;
	border-color: rgba(variables.$text-color-secondary, 0.1);
	box-shadow: variables.$shadow-soft;
	color: variables.$text-color;

	h3 {
		font-size: var(--font-size-base);
		margin: 0.25rem 0 0.1rem;
		line-height: var(--line-height-tight).4;

		a {
			color: inherit;
			text-decoration: none;
			display: flex;
			flex-direction: row;
			align-items: flex-start;
			justify-content: space-between;
			gap: 0.5rem;

			&:hover {
				color: variables.$link-color;
				text-decoration: none;
			}

			.link-text-group {
				@extend .link-text !optional;
			}
		}
	}

	.post-byline,
	.company-byline {
		@extend .byline-base !optional;
	}

	p {
		margin: 0;
		line-height: var(--line-height-tight).3;
		color: variables.$text-color;
	}

	.link-source {
		font-size: var(--font-size-xs);
		margin-top: 0;
		margin-bottom: 0;
		border-top: 1px solid rgb(0 0 0 / 5%);
		padding-top: 0.25rem;

		.link-url {
			font-size: var(--font-size-xs);
			color: variables.$text-color-secondary;
			opacity: 0.8;
			text-decoration: none;
		}
	}

	.content-accordion {
		@extend .content-accordion !optional;
	}

	.link-text-group {
		@extend .link-text !optional;
	}
}

/* Dark mode portfolio item styles */
@media (prefers-color-scheme: dark) {
	.portfolio-item.has-writeup {
		/* Dark mode appearance - only affecting card styling */
		background: rgb(20 20 20 / 70%);
		backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		border: 1px solid rgb(255 255 255 / 10%);
		color: variables.$text-color-dark;
		box-shadow: variables.$shadow-soft-dark;

		&:hover {
			background-color: rgb(30 30 30 / 80%);
			box-shadow: 0 4px 12px rgb(0 0 0 / 15%);

			.title-row h4 {
				color: variables.$link-color-dark;
			}
		}

		/* Dark mode styling for company-byline */
		.company-byline {
			color: variables.$grey-dark;
			opacity: 0.8;
		}

		/* Dark mode external icon - to indicate clickability */
		.external-icon {
			background: rgb(255 255 255 / 10%);
			border-color: rgb(255 255 255 / 5%);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
				color: variables.$white;
			}
		}

		/* Portfolio image styling in dark mode */
		.portfolio-image {
			margin: 0 0 12px;
			border-radius: 6px;
			overflow: hidden;
			max-height: 150px;
			border: 1px solid rgb(255 255 255 / 10%);
			display: flex;
			align-items: center;
			justify-content: center;

			img,
			video {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: none;
			}
		}

		&:hover .portfolio-image img,
		&:hover .portfolio-image video {
			transform: none;
		}
	}

	/* Dark mode portfolio-items styles */
	.portfolio-items {
		background: rgb(20 20 20 / 70%);
		backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		border: 1px solid rgb(255 255 255 / 10%);
		box-shadow: 0 2px 8px rgb(0 0 0 / 20%);

		&:hover {
			background-color: rgb(30 30 30 / 80%);
			box-shadow: 0 4px 12px rgb(0 0 0 / 15%);
		}

		h3 {
			color: variables.$white;

			a {
				color: variables.$white;
				text-decoration: none;

				&:hover {
					color: variables.$link-color-dark;
				}
			}
		}

		.post-byline,
		.company-byline {
			color: variables.$grey-dark;
		}

		p {
			color: variables.$grey-light;
		}

		.link-source {
			border-top-color: rgb(255 255 255 / 5%);

			.link-url {
				color: variables.$grey-dark;
				text-decoration: none;
			}
		}

		.content-accordion {
			border-top-color: rgb(255 255 255 / 5%);

			summary {
				color: variables.$grey-dark;

				&:hover {
					color: variables.$link-color-dark;
				}
			}

			.accordion-content {
				color: variables.$grey-dark;
				background: rgb(255 255 255 / 3%);
			}
		}

		.external-icon {
			background: rgb(255 255 255 / 10%);
			border-color: rgb(255 255 255 / 5%);
			color: variables.$white;

			&:hover {
				background: variables.$link-color-dark;
			}
		}
	}

	/* General dark mode text styling for all portfolio items */
	.portfolio-item {
		h4 {
			color: variables.$white;
		}

		p {
			color: variables.$grey-light;
		}

		/* Muted text colors for non-clickable items in dark mode */
		&:not(.has-writeup) {
			background: transparent; // Explicit for dark non-hover
			border: 1px solid rgb(255 255 255 / 10%); // Better dark mode border
			box-shadow: 0 1px 2px rgb(0 0 0 / 3%); // Minimal dark shadow

			h4 {
				color: hsl(0deg 0% 65%);
				opacity: 0.9;
			}

			p {
				color: hsl(0deg 0% 60%);
				opacity: 0.8;
			}

			/* Dark mode overrides for portfolio items without cover images */
			&:not([data-cover-image="true"]) {
				.portfolio-content .title-row .content-text h4 {
					color: variables.$white !important;
				}
			}

			/* Dark mode overrides for portfolio items with cover images but no writeup */
			&[data-cover-image="true"]:not(.has-writeup) {
				.portfolio-content .title-row .content-text h4 {
					color: white !important;
				}
			}
		}
	}
}

.title-row {
	.external-icon {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 24px;
		height: 24px;
		border-radius: 50%;
		background: rgb(0 0 0 / 5%);
		border: 1px solid rgb(0 0 0 / 5%);
		color: variables.$text-color-secondary;
		font-size: var(--font-size-sm);
		transition: all 0.2s ease;

		&:hover {
			background: variables.$link-color;
			border-color: variables.$link-color;
			color: variables.$white;
		}
	}
}

/* Post page dark mode styles */
@media (prefers-color-scheme: dark) {
	.post-navigation {
		.profile-link {
			.mini-profile-photo {
				box-shadow: 0 2px 6px rgb(0 0 0 / 20%),
					0 0 0 1px rgb(255 255 255 / 10%);

				.placeholder-avatar {
					background-color: variables.$accent-gold-dark;
				}
			}

			.home-tooltip {
				background-color: variables.$card-bg-dark;
				color: variables.$text-color-dark;
				box-shadow: 0 2px 6px rgb(0 0 0 / 30%);
			}

			&:hover {
				.mini-profile-photo {
					box-shadow: 0 4px 10px rgb(0 0 0 / 30%),
						0 0 0 2px variables.$accent-gold-light;
				}
			}
		}
	}

	.post-back-link-container a,
	.project-back-link-container a {
		color: variables.$link-color-dark;

		&:hover {
			color: variables.$hover-color-dark;
		}
	}

	.post {
		background-color: variables.$card-bg-dark;
		color: variables.$text-color-dark;
		box-shadow: variables.$shadow-dark;
		border-color: variables.$border-color-dark;

		.post-header-image {
			.header-image-caption {
				background: rgb(0 0 0 / 80%);
				color: variables.$text-color-dark;
			}

			img {
				filter: brightness(0.9);
			}
		}

		.post-section-indicator a {
			color: variables.$accent-gold-light;

			&::after {
				background-color: variables.$accent-gold-light;
			}

			&:hover {
				color: variables.$hover-color-dark;

				&::after {
					background-color: variables.$hover-color-dark;
				}
			}
		}

		.post-title {
			color: variables.$text-color-dark;

			a {
				color: variables.$text-color-dark;

				&:hover {
					color: variables.$primary-color-dark;
				}
			}
		}

		p,
		li {
			color: variables.$text-color-dark;
		}

		h1,
		h2,
		h3,
		h4,
		h5,
		h6 {
			color: variables.$text-color-dark;
		}

		h2 {
			border-bottom-color: variables.$card-border-color-dark;
		}

		blockquote {
			--bg-color: rgb(255 255 255 / 3%);

			background-color: rgb(255 255 255 / 3%) !important;
			background: rgb(255 255 255 / 3%) !important;
			border-left-color: rgb(255 255 255 / 5%);
			color: variables.$text-color-dark !important;

			p {
				color: variables.$text-color-dark !important;
			}
		}

		pre,
		code,
		p code,
		li code {
			background-color: variables.$meta-card-bg-dark;
			color: variables.$text-color-dark;
		}

		table {
			border-color: rgba(variables.$border-color-dark, 0.3);
			box-shadow: variables.$shadow-soft-dark;
			background-color: rgb(0 0 0 / 20%);

			tr {
				border-bottom-color: rgba(variables.$border-color-dark, 0.2);

				&:nth-child(even) {
					background-color: rgb(0 0 0 / 15%);
				}
			}

			th {
				background-color: rgb(255 255 255 / 10%);
				color: variables.$text-color-dark;
				border-right-color: rgba(variables.$border-color-dark, 0.2);
			}

			td {
				color: variables.$text-color-dark;
				border-right-color: rgba(variables.$border-color-dark, 0.2);
			}

			// Style for the "Updated" and "New" badges
			th span {
				background-color: rgb(255 255 255 / 10%);
				color: variables.$text-color-dark;
			}
		}

		hr {
			background-color: variables.$card-border-color-dark;
		}

		a {
			color: variables.$link-color-dark;

			&:hover {
				color: variables.$hover-color-dark;
			}
		}

		.post-footer {
			border-top-color: variables.$card-border-color-dark;

			.post-tags .tag {
				background-color: variables.$white-1-dark;
				color: variables.$text-color-secondary-dark;

				&:hover {
					background-color: variables.$accent-gold-dark;
					color: variables.$text-color-dark;
				}
			}

			.post-nav {

				.prev a,
				.next a {
					.nav-label {
						color: variables.$text-color-secondary-dark;
					}

					.post-title {
						color: variables.$text-color-dark;
					}

					&:hover .post-title {
						color: variables.$link-color-dark;
					}
				}
			}
		}
	}
}

/* Dark mode for tables */
	@media (prefers-color-scheme: dark) {
		table {
			border-color: rgba(variables.$border-color-dark, 0.3);
			box-shadow: variables.$shadow-soft-dark;
			background-color: rgb(0 0 0 / 20%);

		tr {
			border-bottom-color: rgba(variables.$border-color-dark, 0.2);

			&:nth-child(even) {
				background-color: rgb(0 0 0 / 15%);
			}
		}

		th {
			background-color: rgb(255 255 255 / 10%);
			color: variables.$text-color-dark;
			border-right-color: rgba(variables.$border-color-dark, 0.2);
		}

		td {
			color: variables.$text-color-dark;
			border-right-color: rgba(variables.$border-color-dark, 0.2);
		}

		// Style for the "Updated" and "New" badges
			th span {
				background-color: rgb(255 255 255 / 10%);
				color: variables.$text-color-dark;
			}
		}

		.substack-post .post-content table {
			box-shadow: none;
			background-color: var(--table-bg-dark, variables.$card-bg-dark);
			border-color: var(--table-border-dark, variables.$border-color-dark);

			tr {
				border-bottom-color: var(--table-border-dark, variables.$border-color-dark);

				&:nth-child(even) {
					background-color: transparent;
				}
			}

			th {
				background: var(--table-header-bg-dark, rgba(255 255 255 / 5%));
				color: variables.$text-color-dark;
				border-right-color: transparent;
			}

			td {
				color: variables.$text-color-dark;
				border-right-color: transparent;
			}
		}
	}

/* Dark mode for tags */
@media (prefers-color-scheme: dark) {
	.tag {
		background-color: rgb(255 255 255 / 10%);
		border-color: rgb(255 255 255 / 20%);
		color: variables.$text-color-dark;
		box-shadow: variables.$shadow-soft-dark;

		&:hover {
			background-color: rgb(255 255 255 / 15%);
			box-shadow: variables.$shadow-medium-dark;
		}

		&--new {
			background-color: rgb(180 83 9 / 20%);
			border-color: rgb(180 83 9 / 30%);
			color: #fdba74;

			&:hover {
				background-color: rgb(180 83 9 / 30%);
			}
		}
	}
}

/* Dark mode styles for search bar */
@media (prefers-color-scheme: dark) {
	.search-container {
		.search-input {
			background: variables.$card-bg-dark;
			border-color: variables.$border-color-dark;
			color: variables.$text-color-dark;
			box-shadow:
				0 1px 2px rgb(0 0 0 / 30%),
				0 -1px 0 rgb(255 255 255 / 10%) inset;

			&:focus {
				border-color: variables.$link-color-dark;
				box-shadow:
					0 0 0 2px rgba(variables.$link-color-dark, 0.2),
					0 1px 2px rgb(0 0 0 / 30%),
					0 -1px 0 rgb(255 255 255 / 10%) inset;
				background-color: variables.$card-bg-dark;
			}

			&::placeholder {
				color: variables.$text-color-secondary-dark;
			}
		}
	}
}

/* Profile Header Theme Mode Styles */
.profile-header {

	/* Dark mode styles */
	@media (prefers-color-scheme: dark) {
		.profile-info {
			.location-pill {
				background: rgba(variables.$white, 0.1);
				color: variables.$text-color-secondary-dark;

				&:hover {
					background: rgba(variables.$white, 0.15);
					color: variables.$text-color-dark;
				}

				.location-icon {
					color: variables.$text-color-secondary-dark;
				}
			}
		}
	}

	/* Light mode styles */
	@media (prefers-color-scheme: light) {
		.profile-info {
			.location-pill {
				background: rgba(variables.$black, 0.05);
				color: variables.$text-color-secondary;

				&:hover {
					background: rgba(variables.$black, 0.08);
					color: variables.$text-color;
				}

				.location-icon {
					color: variables.$text-color-secondary;
				}
			}
		}
	}
}

/* Forced theme mode styles */
body {
	&.light-mode-forced.blog .profile-header,
	&.dark-mode-forced.blog .profile-header {
		.profile-info {
			.location-pill {
				background: var(--location-pill-bg);
				color: var(--location-pill-color);

				&:hover {
					background: var(--location-pill-hover-bg);
					color: var(--location-pill-hover-color);
				}

				.location-icon {
					color: var(--location-pill-icon-color);
				}
			}
		}
	}

	&.dark-mode-forced {
		.substack-post {
			color: variables.$text-color-dark;

			.post-content {
				color: variables.$text-color-dark;

				h1,
				h2,
				h3,
				h4,
				h5,
				h6,
				p,
				li {
					color: variables.$text-color-dark;
				}

				a {
					color: variables.$link-color-dark;
				}

				blockquote {
					background-color: rgb(255 255 255 / 3%) !important;
					border-left-color: rgb(255 255 255 / 5%);
					color: variables.$text-color-dark;

					p {
						color: variables.$text-color-dark;
					}
				}

				pre,
				code,
				p code,
				li code,
				figure.highlight {
					background-color: variables.$card-bg-dark;
					color: variables.$text-color-dark;
				}

				figure.highlight table {
					background: transparent;
				}

				table {
					box-shadow: none;
					background-color: var(--table-bg-dark, variables.$card-bg-dark);
					border-color: var(--table-border-dark, variables.$border-color-dark);

					tr {
						border-bottom-color: var(--table-border-dark, variables.$border-color-dark);

						&:nth-child(even) {
							background-color: transparent;
						}
					}

					th {
						background: var(--table-header-bg-dark, rgba(255 255 255 / 5%));
						color: variables.$text-color-dark;
						border-right-color: transparent;
					}

					td {
						color: variables.$text-color-dark;
						border-right-color: transparent;
					}
				}

				img {
					filter: brightness(0.9);
					border: 1px solid variables.$border-color-dark;
					box-shadow: variables.$shadow-soft-dark;
				}

				hr {
					background-image: linear-gradient(to right, rgb(255 255 255 / 0%), rgb(255 255 255 / 30%), rgb(255 255 255 / 0%));
				}
			}

			.highlight .name {
				color: #7ee787;
			}

			.highlight .attr,
			.highlight .meta,
			.highlight .meta-keyword,
			.highlight .attribute,
			.highlight .number,
			.highlight .selector-class {
				color: #79c0ff;
			}

			.highlight .string,
			.highlight .symbol {
				color: #79c0ff;
			}

			.highlight .selector-tag {
				color: #7ee787;
			}

			.highlight .built_in {
				color: #d2a8ff;
			}

			.highlight .keyword {
				color: #ff7b72;
			}
		}
	}
}
