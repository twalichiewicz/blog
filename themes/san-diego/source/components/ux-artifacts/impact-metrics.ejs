<%# Impact Metrics Component - Usage: <%- include('components/ux-artifacts/impact-metrics', { metrics: {...} }) %> %>

<div class="ux-artifact impact-metrics">
  <div class="artifact-header">
    <div class="artifact-icon">üìà</div>
    <h3 class="artifact-title"><%= metrics.title || 'Impact & Results' %></h3>
  </div>
  
  <div class="metrics-container">
    <% if (metrics.primary) { %>
      <div class="primary-metrics">
        <h4>Primary Impact</h4>
        <div class="primary-metrics-grid">
          <% metrics.primary.forEach(function(metric) { %>
            <div class="primary-metric-card" data-category="<%= metric.category || 'business' %>">
              <div class="metric-icon">
                <%= metric.icon || 'üíº' %>
              </div>
              <div class="metric-content">
                <div class="metric-value">
                  <span class="value-main"><%= metric.value %></span>
                  <% if (metric.unit) { %>
                    <span class="value-unit"><%= metric.unit %></span>
                  <% } %>
                </div>
                <div class="metric-label"><%= metric.label %></div>
                <% if (metric.timeframe) { %>
                  <div class="metric-timeframe"><%= metric.timeframe %></div>
                <% } %>
                <% if (metric.description) { %>
                  <div class="metric-description"><%= metric.description %></div>
                <% } %>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (metrics.secondary) { %>
      <div class="secondary-metrics">
        <h4>Secondary Benefits</h4>
        <div class="secondary-metrics-grid">
          <% metrics.secondary.forEach(function(metric) { %>
            <div class="secondary-metric-item">
              <div class="metric-indicator" data-trend="<%= metric.trend || 'positive' %>">
                <span class="indicator-icon">
                  <% if (metric.trend === 'positive') { %>‚ÜóÔ∏è<% } %>
                  <% if (metric.trend === 'negative') { %>‚ÜòÔ∏è<% } %>
                  <% if (metric.trend === 'neutral') { %>‚û°Ô∏è<% } %>
                </span>
                <span class="indicator-value"><%= metric.value %></span>
              </div>
              <div class="metric-details">
                <div class="metric-label"><%= metric.label %></div>
                <% if (metric.description) { %>
                  <div class="metric-description"><%= metric.description %></div>
                <% } %>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (metrics.timeline) { %>
      <div class="metrics-timeline">
        <h4>Impact Timeline</h4>
        <div class="timeline-container">
          <% metrics.timeline.forEach(function(milestone, index) { %>
            <div class="timeline-milestone" data-milestone="<%= index + 1 %>">
              <div class="milestone-marker">
                <div class="milestone-date"><%= milestone.date %></div>
              </div>
              <div class="milestone-content">
                <h5><%= milestone.title %></h5>
                <p><%= milestone.description %></p>
                <% if (milestone.metrics) { %>
                  <div class="milestone-metrics">
                    <% milestone.metrics.forEach(function(metric) { %>
                      <div class="milestone-metric">
                        <span class="metric-value"><%= metric.value %></span>
                        <span class="metric-label"><%= metric.label %></span>
                      </div>
                    <% }); %>
                  </div>
                <% } %>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (metrics.methodology) { %>
      <div class="metrics-methodology">
        <h4>Measurement Methodology</h4>
        <div class="methodology-content">
          <% if (metrics.methodology.description) { %>
            <p><%= metrics.methodology.description %></p>
          <% } %>
          <% if (metrics.methodology.data_sources) { %>
            <div class="data-sources">
              <h5>Data Sources:</h5>
              <ul>
                <% metrics.methodology.data_sources.forEach(function(source) { %>
                  <li><%= source %></li>
                <% }); %>
              </ul>
            </div>
          <% } %>
          <% if (metrics.methodology.limitations) { %>
            <div class="methodology-limitations">
              <h5>Limitations:</h5>
              <ul>
                <% metrics.methodology.limitations.forEach(function(limitation) { %>
                  <li><%= limitation %></li>
                <% }); %>
              </ul>
            </div>
          <% } %>
        </div>
      </div>
    <% } %>
  </div>
</div>