<%# System Architecture Diagram - Usage: <%- include('components/ux-artifacts/system-architecture', { architecture: {...} }) %> %>

<div class="ux-artifact system-architecture">
  <div class="artifact-header">
    <div class="artifact-icon">üèóÔ∏è</div>
    <h3 class="artifact-title"><%= architecture.title || 'System Architecture' %></h3>
  </div>
  
  <div class="architecture-container">
    <% if (architecture.diagram) { %>
      <div class="architecture-diagram">
        <img src="<%= architecture.diagram %>" alt="System architecture diagram" />
      </div>
    <% } %>
    
    <div class="architecture-details">
      <% if (architecture.layers) { %>
        <div class="architecture-layers">
          <h4>System Layers</h4>
          <% architecture.layers.forEach(function(layer, index) { %>
            <div class="layer-item" data-layer="<%= index + 1 %>">
              <div class="layer-header">
                <div class="layer-number"><%= index + 1 %></div>
                <h5 class="layer-name"><%= layer.name %></h5>
              </div>
              <p class="layer-description"><%= layer.description %></p>
              <% if (layer.components) { %>
                <div class="layer-components">
                  <strong>Key Components:</strong>
                  <ul>
                    <% layer.components.forEach(function(component) { %>
                      <li><%= component %></li>
                    <% }); %>
                  </ul>
                </div>
              <% } %>
            </div>
          <% }); %>
        </div>
      <% } %>
      
      <% if (architecture.integrations) { %>
        <div class="architecture-integrations">
          <h4>Key Integrations</h4>
          <div class="integrations-grid">
            <% architecture.integrations.forEach(function(integration) { %>
              <div class="integration-item">
                <div class="integration-icon">
                  <%= integration.icon || 'üîå' %>
                </div>
                <div class="integration-details">
                  <h5><%= integration.name %></h5>
                  <p><%= integration.description %></p>
                  <% if (integration.challenge) { %>
                    <div class="integration-challenge">
                      <strong>Challenge:</strong> <%= integration.challenge %>
                    </div>
                  <% } %>
                </div>
              </div>
            <% }); %>
          </div>
        </div>
      <% } %>
      
      <% if (architecture.constraints) { %>
        <div class="architecture-constraints">
          <h4>Technical Constraints</h4>
          <ul>
            <% architecture.constraints.forEach(function(constraint) { %>
              <li>
                <strong><%= constraint.type %>:</strong> <%= constraint.description %>
                <% if (constraint.solution) { %>
                  <div class="constraint-solution">
                    <em>Solution: <%= constraint.solution %></em>
                  </div>
                <% } %>
              </li>
            <% }); %>
          </ul>
        </div>
      <% } %>
    </div>
  </div>
</div>