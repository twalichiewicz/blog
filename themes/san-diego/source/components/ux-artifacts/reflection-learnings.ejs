<%# Reflection & Learnings Component - Usage: <%- include('components/ux-artifacts/reflection-learnings', { reflection: {...} }) %> %>

<div class="ux-artifact reflection-learnings">
  <div class="artifact-header">
    <div class="artifact-icon">üéØ</div>
    <h3 class="artifact-title">Reflection & Learnings</h3>
  </div>
  
  <div class="reflection-container">
    <% if (reflection.what_worked) { %>
      <div class="reflection-section what-worked">
        <div class="section-header">
          <div class="section-icon">‚úÖ</div>
          <h4>What Worked Well</h4>
        </div>
        <div class="reflection-content">
          <% reflection.what_worked.forEach(function(item) { %>
            <div class="reflection-item positive">
              <h5><%= item.title %></h5>
              <p><%= item.description %></p>
              <% if (item.impact) { %>
                <div class="item-impact">
                  <strong>Impact:</strong> <%= item.impact %>
                </div>
              <% } %>
              <% if (item.takeaway) { %>
                <div class="item-takeaway">
                  <strong>Key Takeaway:</strong> <%= item.takeaway %>
                </div>
              <% } %>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (reflection.challenges) { %>
      <div class="reflection-section challenges">
        <div class="section-header">
          <div class="section-icon">‚ö†Ô∏è</div>
          <h4>Challenges & Solutions</h4>
        </div>
        <div class="reflection-content">
          <% reflection.challenges.forEach(function(challenge) { %>
            <div class="reflection-item challenge">
              <h5><%= challenge.title %></h5>
              <div class="challenge-description">
                <strong>Challenge:</strong> <%= challenge.description %>
              </div>
              <% if (challenge.solution) { %>
                <div class="challenge-solution">
                  <strong>Solution:</strong> <%= challenge.solution %>
                </div>
              <% } %>
              <% if (challenge.outcome) { %>
                <div class="challenge-outcome">
                  <strong>Outcome:</strong> <%= challenge.outcome %>
                </div>
              <% } %>
              <% if (challenge.learning) { %>
                <div class="challenge-learning">
                  <strong>Learning:</strong> <%= challenge.learning %>
                </div>
              <% } %>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (reflection.would_do_differently) { %>
      <div class="reflection-section improvements">
        <div class="section-header">
          <div class="section-icon">üîÑ</div>
          <h4>What I'd Do Differently</h4>
        </div>
        <div class="reflection-content">
          <% reflection.would_do_differently.forEach(function(item) { %>
            <div class="reflection-item improvement">
              <h5><%= item.title %></h5>
              <p><%= item.description %></p>
              <% if (item.reason) { %>
                <div class="improvement-reason">
                  <strong>Why:</strong> <%= item.reason %>
                </div>
              <% } %>
              <% if (item.expected_impact) { %>
                <div class="improvement-impact">
                  <strong>Expected Impact:</strong> <%= item.expected_impact %>
                </div>
              <% } %>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (reflection.key_learnings) { %>
      <div class="reflection-section key-learnings">
        <div class="section-header">
          <div class="section-icon">üí°</div>
          <h4>Key Learnings</h4>
        </div>
        <div class="learnings-grid">
          <% reflection.key_learnings.forEach(function(learning, index) { %>
            <div class="learning-card" data-learning="<%= index + 1 %>">
              <div class="learning-number"><%= index + 1 %></div>
              <div class="learning-content">
                <h5><%= learning.title %></h5>
                <p><%= learning.description %></p>
                <% if (learning.application) { %>
                  <div class="learning-application">
                    <strong>Future Application:</strong> <%= learning.application %>
                  </div>
                <% } %>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
    
    <% if (reflection.next_steps) { %>
      <div class="reflection-section next-steps">
        <div class="section-header">
          <div class="section-icon">üöÄ</div>
          <h4>Next Steps & Future Opportunities</h4>
        </div>
        <div class="reflection-content">
          <% reflection.next_steps.forEach(function(step) { %>
            <div class="next-step-item">
              <div class="step-priority" data-priority="<%= step.priority || 'medium' %>">
                <%= step.priority || 'Medium' %>
              </div>
              <div class="step-content">
                <h5><%= step.title %></h5>
                <p><%= step.description %></p>
                <% if (step.timeline) { %>
                  <div class="step-timeline">
                    <strong>Timeline:</strong> <%= step.timeline %>
                  </div>
                <% } %>
                <% if (step.potential_impact) { %>
                  <div class="step-impact">
                    <strong>Potential Impact:</strong> <%= step.potential_impact %>
                  </div>
                <% } %>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
  </div>
</div>