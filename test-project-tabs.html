<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Tabs Height Test</title>
    <link rel="stylesheet" href="http://localhost:4000/styles/styles.css">
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        .test-container {
            background: #f0f0f0;
            min-height: 100vh;
            padding: 20px;
        }
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            font-size: 12px;
            z-index: 1000;
            border-radius: 4px;
        }
        .mobile-simulator {
            max-width: 375px;
            margin: 0 auto;
            background: white;
            border: 2px solid #ccc;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .mobile-header {
            background: #333;
            color: white;
            padding: 8px;
            text-align: center;
            font-size: 12px;
        }
        .mobile-content {
            height: 667px; /* iPhone height */
            overflow: hidden;
            position: relative;
        }
        .test-controls {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
        }
        .test-controls button {
            background: #007AFF;
            color: white;
            border: none;
            padding: 4px 8px;
            margin: 2px;
            border-radius: 3px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="debug-info">
        <div>Viewport: <span id="vh"></span>px</div>
        <div>Tabs Height: <span id="tabs-height"></span>px</div>
        <div>Content Height: <span id="content-height"></span>px</div>
        <div>Panel Height: <span id="panel-height"></span>px</div>
        <div>Background extends: <span id="bg-extends"></span></div>
    </div>

    <div class="test-controls">
        <div>Test Controls:</div>
        <button onclick="addContent()">Add Content</button>
        <button onclick="removeContent()">Remove Content</button>
        <button onclick="toggleMobile()">Toggle Mobile View</button>
    </div>

    <div class="test-container">
        <h1>Project Tabs Height Test</h1>
        
        <div class="mobile-simulator" id="mobile-sim">
            <div class="mobile-header">Mobile Simulator (375x667)</div>
            <div class="mobile-content">
                <div class="project-tabs">
                    <div class="tab-navigation">
                        <button class="tab-button active">Overview</button>
                        <button class="tab-button">Details</button>
                        <button class="tab-button">Process</button>
                    </div>
                    
                    <div class="tab-content">
                        <div class="tab-panel active">
                            <div class="tab-panel-content" id="dynamic-content">
                                <h2>Test Content</h2>
                                <p>This is a short piece of content to test the height behavior.</p>
                                <p>The issue was that the background extended too far down.</p>
                                <p>We want the content to determine the height, not the viewport.</p>
                            </div>
                        </div>
                        
                        <div class="tab-panel">
                            <div class="tab-panel-content">
                                <h2>More Content</h2>
                                <p>This tab has different content.</p>
                                <p>Switch between tabs to see how the height adjusts.</p>
                            </div>
                        </div>
                        
                        <div class="tab-panel">
                            <div class="tab-panel-content">
                                <h2>Process</h2>
                                <p>This is the process tab.</p>
                                <p>It has even less content to test minimal height behavior.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function updateDebugInfo() {
            document.getElementById('vh').textContent = window.innerHeight;
            
            const tabs = document.querySelector('.project-tabs');
            const content = document.querySelector('.tab-content');
            const panel = document.querySelector('.tab-panel.active');
            
            if (tabs) {
                document.getElementById('tabs-height').textContent = tabs.offsetHeight;
                
                // Check if background extends beyond content
                const tabsRect = tabs.getBoundingClientRect();
                const panelRect = panel ? panel.getBoundingClientRect() : null;
                const bgExtends = panelRect ? (tabsRect.bottom - panelRect.bottom) > 50 : false;
                document.getElementById('bg-extends').textContent = bgExtends ? 'YES (BAD)' : 'NO (GOOD)';
                document.getElementById('bg-extends').style.color = bgExtends ? '#ff4444' : '#44ff44';
            }
            if (content) document.getElementById('content-height').textContent = content.offsetHeight;
            if (panel) document.getElementById('panel-height').textContent = panel.offsetHeight;
        }
        
        function addContent() {
            const content = document.getElementById('dynamic-content');
            const newP = document.createElement('p');
            newP.textContent = 'Additional content paragraph added to test height behavior with more content.';
            content.appendChild(newP);
            setTimeout(updateDebugInfo, 10);
        }
        
        function removeContent() {
            const content = document.getElementById('dynamic-content');
            const paragraphs = content.querySelectorAll('p');
            if (paragraphs.length > 3) {
                paragraphs[paragraphs.length - 1].remove();
                setTimeout(updateDebugInfo, 10);
            }
        }
        
        function toggleMobile() {
            const sim = document.getElementById('mobile-sim');
            sim.style.maxWidth = sim.style.maxWidth === 'none' ? '375px' : 'none';
            setTimeout(updateDebugInfo, 10);
        }
        
        window.addEventListener('load', updateDebugInfo);
        window.addEventListener('resize', updateDebugInfo);
        
        // Tab switching functionality
        document.querySelectorAll('.tab-button').forEach((button, index) => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and panels
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
                
                // Add active class to clicked button and corresponding panel
                button.classList.add('active');
                document.querySelectorAll('.tab-panel')[index].classList.add('active');
                
                // Update debug info
                setTimeout(updateDebugInfo, 10);
            });
        });
    </script>
</body>
</html> 