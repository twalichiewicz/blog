!function(){"use strict";function e(){t(),function(){let e;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(()=>{document.querySelectorAll(".byline-more-button").forEach(e=>e.remove()),document.querySelectorAll(".project-byline").forEach(e=>e.classList.remove("truncated")),t()},250)})}()}function t(){document.querySelectorAll(".project-byline").forEach(e=>{if(e.querySelector(".byline-more-button"))return;const t=e.cloneNode(!0);t.style.cssText=`\n                position: absolute;\n                top: -9999px;\n                left: -9999px;\n                width: ${e.offsetWidth}px;\n                max-width: 450px;\n                visibility: hidden;\n                display: block;\n                -webkit-line-clamp: unset;\n                -webkit-box-orient: unset;\n                overflow: visible;\n                text-overflow: unset;\n            `,document.body.appendChild(t);const n=t.offsetHeight;document.body.removeChild(t),e.classList.add("truncated"),n>e.offsetHeight+10?function(e){const t=e.textContent||e.innerText;e.setAttribute("data-full-text",t);const n=e.cloneNode(!0);n.style.cssText=e.style.cssText,n.style.position="absolute",n.style.visibility="hidden",n.style.width=e.offsetWidth+"px",n.classList.add("truncated"),e.parentNode.appendChild(n);let o=0,i=t.length,d=0;for(;o<=i;){const l=Math.floor((o+i)/2);n.textContent=t.substring(0,l)+"...",n.scrollHeight<=e.offsetHeight?(d=l,o=l+1):i=l-1}let l=d;for(;l>0&&" "!==t[l];)l--;for(l=Math.max(0,l-5-5);l>0&&" "!==t[l];)l--;n.remove();const s=t.substring(0,l).trim(),c=document.createElement("button");c.className="byline-more-button",c.textContent="more",c.setAttribute("aria-label","Show full project description"),c.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),window.soundEffects&&window.soundEffects.playSound&&window.soundEffects.playSound("small-click"),function(e){const t=document.querySelector(".byline-modal");t&&t.remove();const n=e.getAttribute("data-full-text")||e.textContent||e.innerText,o=document.createElement("div");o.className="byline-modal",o.innerHTML=`\n            <div class="byline-modal-content">\n                <button class="modal-close-button" aria-label="Close modal">\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">\n                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                    </svg>\n                </button>\n                <p class="modal-byline-text">${n}</p>\n            </div>\n        `,document.body.appendChild(o),requestAnimationFrame(()=>{o.classList.add("active")}),function(e){function t(){window.soundEffects&&window.soundEffects.playSound&&window.soundEffects.playSound("small-click"),e.classList.remove("active"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}e.querySelector(".modal-close-button").addEventListener("click",t),e.addEventListener("click",function(n){n.target===e&&t()}),document.addEventListener("keydown",function e(n){"Escape"===n.key&&(t(),document.removeEventListener("keydown",e))})}(o)}(e)}),e.innerHTML="",e.appendChild(document.createTextNode(s+"... ")),e.appendChild(c)}(e):e.classList.remove("truncated")})}window.bylineModal={init:e,checkTruncation:t},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),document.addEventListener("contentLoaded",e)}();