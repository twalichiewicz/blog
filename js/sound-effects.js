!function(){"use strict";const o=new class{constructor(){this.sounds=new Map,this.enabled=!0,this.volume=.5;const o=localStorage.getItem("sound-effects-enabled");this.enabled=null===o||"true"===o;const t=localStorage.getItem("sound-effects-volume");this.volume=null!==t?parseFloat(t):.5}loadSound(o,t,e=["mp3","ogg","m4a"]){const n=new Audio;for(const o of e){const e=n.canPlayType(`audio/${"m4a"===o?"mp4":o}`);if("probably"===e||"maybe"===e){n.src=`${t}.${o}`;break}}return n.src||(n.src=`${t}.mp3`),n.preload="auto",n.volume=this.volume,n.addEventListener("error",o=>{}),this.sounds.set(o,n),n}play(o,t=null){if(!this.enabled)return;const e=this.sounds.get(o);if(e)try{e.currentTime=0,e.volume=null!==t?t:this.volume;const o=e.play();void 0!==o&&o.catch(o=>{})}catch(o){}}setEnabled(o){this.enabled=o,localStorage.setItem("sound-effects-enabled",o.toString())}setVolume(o){this.volume=Math.max(0,Math.min(1,o)),localStorage.setItem("sound-effects-volume",this.volume.toString()),this.sounds.forEach(o=>{o.volume=this.volume})}isEnabled(){return this.enabled}getVolume(){return this.volume}preloadCommonSounds(){this.loadSound("toggle","/media/toggleSound",["mp3","ogg","m4a"]),this.loadSound("buttonDown","/media/button-press-down",["mp3","m4a"]),this.loadSound("buttonUp","/media/button-press-up",["mp3","m4a"]),this.loadSound("smallClick","/media/smallClick",["mp3"]),this.loadSound("slider","/media/slider",["mp3"]),this.loadSound("book","/media/book",["mp3","m4a"])}};function t(){o.preloadCommonSounds()}window.soundEffects=o,window.initializeSoundEffects=t,window.playButtonSound=function(){window.soundEffects&&window.soundEffects.play("smallClick")},window.playBookSound=function(){window.soundEffects&&window.soundEffects.play("book")},window.playSmallClickSound=function(){window.soundEffects&&window.soundEffects.play("smallClick")},window.playToggleSound=function(){window.soundEffects&&window.soundEffects.play("toggle")},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}();