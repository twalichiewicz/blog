export class InteractiveQuote{constructor(e){this.element=e,this.isInView=!1,e.dataset.initialized||(e.dataset.initialized="true",this.init())}init(){"IntersectionObserver"in window&&this.element.classList.contains("fade-in-up")&&this.setupIntersectionObserver(),this.setupKeyboardInteraction()}setupIntersectionObserver(){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!this.isInView&&(this.isInView=!0,t.target.classList.add("in-view"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.observe(this.element)}setupKeyboardInteraction(){this.element.addEventListener("focus",()=>{this.element.classList.add("keyboard-focus")}),this.element.addEventListener("blur",()=>{this.element.classList.remove("keyboard-focus")}),this.element.addEventListener("keydown",e=>{"Enter"!==e.key||e.defaultPrevented||this.element.dispatchEvent(new CustomEvent("quote:activate",{detail:{text:this.element.querySelector(".quote-text")?.textContent,author:this.element.querySelector(".quote-citation cite")?.textContent},bubbles:!0}))})}static init(e=".interactive-quote"){const t=document.querySelectorAll(e);return Array.from(t).map(e=>new InteractiveQuote(e))}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>InteractiveQuote.init()):InteractiveQuote.init();export default InteractiveQuote;