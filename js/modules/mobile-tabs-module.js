!function(t){"use strict";const e=new class{constructor(){this.initialized=!1,this.config={tabsWrapperSelector:".tabs-wrapper",tabContainerSelector:".mobile-tabs",tabButtonSelector:".tab-button",postsContentId:"postsContent",projectsContentId:"projectsContent",searchBarSelector:".search-bar"},this.elements={},this.activeTab="blog",this.isMobile=!1}init(){this.initialized||(this.cacheElements(),this.checkDevice(),this.setupEventListeners(),this.checkInitialTab(),this.initialized=!0,t.events.emit("mobile-tabs:initialized"))}destroy(){this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),this.initialized=!1,this.elements={},t.events.emit("mobile-tabs:destroyed")}cacheElements(){this.elements={tabsWrapper:document.querySelector(this.config.tabsWrapperSelector),tabContainer:document.querySelector(this.config.tabContainerSelector),blogTab:document.querySelector('[data-tab="blog"]'),portfolioTab:document.querySelector('[data-tab="portfolio"]'),postsContent:document.getElementById(this.config.postsContentId),projectsContent:document.getElementById(this.config.projectsContentId),searchBar:document.querySelector(this.config.searchBarSelector)}}checkDevice(){this.isMobile=window.innerWidth<=768,document.body.classList.toggle("mobile-tabs-active",this.isMobile)}setupEventListeners(){this.elements.blogTab&&this.elements.blogTab.addEventListener("click",()=>this.switchTab("blog")),this.elements.portfolioTab&&this.elements.portfolioTab.addEventListener("click",()=>this.switchTab("portfolio")),this.resizeHandler=this.debounce(()=>{const t=this.isMobile;this.checkDevice(),t!==this.isMobile&&this.handleDeviceChange()},250),window.addEventListener("resize",this.resizeHandler),window.addEventListener("popstate",t=>{t.state&&t.state.tab&&this.switchTab(t.state.tab,!1,!1)})}checkInitialTab(){const t=new URLSearchParams(window.location.search).get("tab");"portfolio"===t||"works"===t?this.switchTab("portfolio",!1):"blog"!==t&&"words"!==t||this.switchTab("blog",!1),window.location.hash&&window.location.hash.substring(1).startsWith("project-")&&this.switchTab("portfolio",!1)}switchTab(e,i=!0,s=!0){e!==this.activeTab&&(this.activeTab=e,this.updateTabButtons(e),this.updateContentVisibility(e),this.updateSearchBarVisibility(e),i&&t.utils.sound&&t.utils.sound.playSlider(),s&&this.updateURL(e),t.events.emit("mobile-tabs:switched",{tab:e}))}updateTabButtons(t){document.querySelectorAll(this.config.tabButtonSelector).forEach(e=>{const i=e.dataset.tab===t;e.classList.toggle("active",i),e.setAttribute("aria-selected",i)})}updateContentVisibility(t){this.elements.postsContent&&(this.elements.postsContent.style.display="blog"===t?"block":"none"),this.elements.projectsContent&&(this.elements.projectsContent.style.display="portfolio"===t?"block":"none")}updateSearchBarVisibility(t){this.elements.searchBar&&(this.elements.searchBar.style.display="blog"===t?"block":"none")}updateURL(t){const e=new URL(window.location);e.searchParams.set("tab",t);const i={tab:t};window.history.pushState(i,"",e)}handleDeviceChange(){this.isMobile?(this.updateContentVisibility(this.activeTab),this.updateSearchBarVisibility(this.activeTab)):(this.elements.postsContent&&(this.elements.postsContent.style.display="block"),this.elements.projectsContent&&(this.elements.projectsContent.style.display="block"),this.elements.searchBar&&(this.elements.searchBar.style.display="block"))}setActiveTab(t){this.switchTab(t,!1)}getActiveTab(){return this.activeTab}debounce(t,e){let i;return function(...s){clearTimeout(i),i=setTimeout(()=>{clearTimeout(i),t(...s)},e)}}};t.ui.tabs.mobile=e,t.registerModule("mobile-tabs",e)}(window.SD||(window.SD={}));