!function(t){"use strict";const e=new class{constructor(){this.initialized=!1,this.projectTabs=null,this.summaryInitialized=!1}init(){this.initialized||(this.initProjectTabs(),this.initSummary(),this.initialized=!0,t.events.emit("portfolio:initialized"))}initProjectTabs(){t.ui.tabs.project={init:()=>this.setupProjectTabs(),activeTab:null},this.setupProjectTabs()}setupProjectTabs(){const e=document.querySelectorAll(".project-tab-button"),o=document.querySelectorAll(".project-tab-content");if(!e.length||!o.length)return;e.forEach(t=>{t.addEventListener("click",e=>{const o=t.getAttribute("data-tab");this.switchProjectTab(o)})});const i=e[0]?.getAttribute("data-tab");i&&this.switchProjectTab(i),t.events.emit("portfolio:project-tabs-initialized")}switchProjectTab(e){const o=document.querySelectorAll(".project-tab-button"),i=document.querySelectorAll(".project-tab-content");o.forEach(t=>{const o=t.getAttribute("data-tab")===e;t.classList.toggle("active",o),t.setAttribute("aria-selected",o)}),i.forEach(t=>{const o=t.id===e;t.style.display=o?"block":"none",t.setAttribute("aria-hidden",!o)}),t.ui.tabs.project.activeTab=e,window.videoAutoplayManager&&"function"==typeof window.videoAutoplayManager.refresh&&setTimeout(()=>{window.videoAutoplayManager.refresh()},100),t.utils.sound&&t.utils.sound.playToggle(),t.events.emit("portfolio:project-tab-switched",{tabId:e})}initSummary(){if(this.summaryInitialized)return;const e=document.querySelectorAll(".project-summary"),o=document.querySelectorAll(".expand-summary");e.length&&(o.forEach(t=>{t.addEventListener("click",e=>{const o=t.closest(".project-section").querySelector(".project-summary");o&&this.toggleSummary(o,t)})}),document.querySelectorAll(".read-more").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const o=t.closest(".project-summary");o&&this.expandSummary(o)})}),this.summaryInitialized=!0,t.events.emit("portfolio:summary-initialized"))}toggleSummary(t,e){t.classList.contains("expanded")?this.collapseSummary(t,e):this.expandSummary(t,e)}expandSummary(e,o){e.classList.add("expanded"),o&&(o.textContent="Show Less",o.setAttribute("aria-expanded","true"));const i=e.querySelector(".summary-truncated"),r=e.querySelector(".summary-full");i&&(i.style.display="none"),r&&(r.style.display="block"),t.utils.sound&&t.utils.sound.playToggle(),t.events.emit("portfolio:summary-expanded",{summary:e})}collapseSummary(e,o){e.classList.remove("expanded"),o&&(o.textContent="Show More",o.setAttribute("aria-expanded","false"));const i=e.querySelector(".summary-truncated"),r=e.querySelector(".summary-full");i&&(i.style.display="block"),r&&(r.style.display="none"),e.getBoundingClientRect().top<0&&e.scrollIntoView({behavior:"smooth",block:"start"}),t.utils.sound&&t.utils.sound.playToggle(),t.events.emit("portfolio:summary-collapsed",{summary:e})}getProjects(){const t=document.querySelectorAll(".portfolio-item");return Array.from(t).map(t=>({element:t,id:t.id,title:t.querySelector(".portfolio-title")?.textContent,company:t.querySelector(".company")?.textContent,year:t.querySelector(".year")?.textContent}))}filterByCompany(e){this.getProjects().forEach(t=>{const o=!e||t.company===e;t.element.style.display=o?"block":"none"}),t.events.emit("portfolio:filtered",{filter:"company",value:e})}filterByYear(e){this.getProjects().forEach(t=>{const o=!e||t.year===e;t.element.style.display=o?"block":"none"}),t.events.emit("portfolio:filtered",{filter:"year",value:e})}showAll(){document.querySelectorAll(".portfolio-item").forEach(t=>{t.style.display="block"}),t.events.emit("portfolio:filter-cleared")}};t.content.portfolio=e,t.registerModule("portfolio",e),t.content.portfolio.initSummary=e.initSummary.bind(e)}(window.SD||(window.SD={}));