<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sound Compatibility Test</title><style>body{font-family:system-ui,-apple-system,sans-serif;max-width:800px;margin:2rem auto;padding:0 1rem;line-height:1.6}.test-section{background:#f5f5f5;padding:1rem;margin:1rem 0;border-radius:8px}button{padding:.5rem 1rem;margin:.25rem;border:none;background:#06c;color:#fff;border-radius:4px;cursor:pointer}button:hover{background:#0052a3}.status{padding:.5rem;margin:.5rem 0;border-radius:4px}.status.success{background:#d4edda;color:#155724}.status.error{background:#f8d7da;color:#721c24}pre{background:#f8f8f8;padding:1rem;overflow-x:auto;border-radius:4px;font-size:.875rem}.comparison{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.comparison>div{background:#fff;padding:1rem;border-radius:8px;border:1px solid #ddd}h3{margin-top:0;color:#333}</style></head><body><h1>Sound Service Compatibility Layer Test</h1><div class="test-section"><h2>Compatibility Status</h2><div id="compat-status" class="status">Checking compatibility...</div><pre id="api-check"></pre></div><div class="test-section"><h2>Test Legacy API</h2><div class="comparison"><div><h3>Direct soundEffects API</h3><button onclick="testLegacyPlay()">soundEffects.play('toggle')</button> <button onclick="testLegacyVolume()">Set Volume 0.3</button> <button onclick="testLegacyEnable()">Toggle Enable/Disable</button> <button onclick="testLegacyPreload()">Preload Sounds</button></div><div><h3>Global Functions</h3><button onclick="playButtonSound()">playButtonSound()</button> <button onclick="playToggleSound()">playToggleSound()</button> <button onclick="playBookSound()">playBookSound()</button> <button onclick="playSmallClickSound()">playSmallClickSound()</button> <button onclick="playSliderSound()">playSliderSound()</button></div></div></div><div class="test-section"><h2>Test New API (for comparison)</h2><button onclick="testNewAPI()">soundService.play('button')</button> <button onclick="testNewCategories()">Test Categories</button> <button onclick="testNewRegistry()">Test Registry</button></div><div class="test-section"><h2>Test Results</h2><div id="results"></div></div><script type="module">import"./sound-compatibility.js";window.results=document.getElementById("results"),window.addResult=function(e,t,o){const n=document.createElement("div");n.className="status "+(t?"success":"error"),n.textContent=`${e}: ${o}`,results.appendChild(n)},setTimeout(()=>{const e=document.getElementById("compat-status"),t=document.getElementById("api-check"),o={"window.soundEffects":!!window.soundEffects,"soundEffects.play":"function"==typeof window.soundEffects?.play,"soundEffects.setEnabled":"function"==typeof window.soundEffects?.setEnabled,"soundEffects.setVolume":"function"==typeof window.soundEffects?.setVolume,playButtonSound:"function"==typeof window.playButtonSound,playToggleSound:"function"==typeof window.playToggleSound,playBookSound:"function"==typeof window.playBookSound,playSmallClickSound:"function"==typeof window.playSmallClickSound,playSliderSound:"function"==typeof window.playSliderSound,initializeSoundEffects:"function"==typeof window.initializeSoundEffects,"window.soundService":!!window.soundService},n=Object.values(o).every(e=>!0===e);e.className="status "+(n?"success":"error"),e.textContent=n?"✅ All compatibility APIs are available!":"❌ Some APIs are missing",t.textContent=JSON.stringify(o,null,2)},100),window.testLegacyPlay=function(){try{window.soundEffects.play("toggle"),addResult("Legacy play()",!0,"Called successfully")}catch(e){addResult("Legacy play()",!1,e.message)}},window.testLegacyVolume=function(){try{window.soundEffects.setVolume(.3);const e=window.soundEffects.getVolume();addResult("Legacy volume",.3===e,`Volume is ${e}`)}catch(e){addResult("Legacy volume",!1,e.message)}},window.testLegacyEnable=function(){try{const e=window.soundEffects.isEnabled();window.soundEffects.setEnabled(!e);const t=window.soundEffects.isEnabled();addResult("Legacy enable/disable",t!==e,`Changed from ${e} to ${t}`)}catch(e){addResult("Legacy enable/disable",!1,e.message)}},window.testLegacyPreload=function(){try{window.soundEffects.preloadCommonSounds(),addResult("Legacy preload",!0,"Called successfully")}catch(e){addResult("Legacy preload",!1,e.message)}},window.testNewAPI=function(){try{window.soundService?(window.soundService.play("button"),addResult("New API play()",!0,"Called successfully")):addResult("New API play()",!1,"soundService not available")}catch(e){addResult("New API play()",!1,e.message)}},window.testNewCategories=function(){try{if(window.soundService){const e=window.soundService.getSoundsByCategory("ui");addResult("Categories",!0,`UI sounds: ${Object.keys(e).length}`)}else addResult("Categories",!1,"soundService not available")}catch(e){addResult("Categories",!1,e.message)}},window.testNewRegistry=function(){try{if(window.soundService){const e=window.soundService.getAvailableSounds();addResult("Registry",!0,`Available sounds: ${e.length}`)}else addResult("Registry",!1,"soundService not available")}catch(e){addResult("Registry",!1,e.message)}}</script></body></html>