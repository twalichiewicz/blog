import SoundService from"./sound-service.js";const soundService=new SoundService;class SoundEffectsCompat{constructor(){this.service=soundService,this.sounds=new Map,Object.defineProperty(this,"enabled",{get:()=>this.service.enabled,set:e=>this.service.setEnabled(e)}),Object.defineProperty(this,"volume",{get:()=>this.service.volume,set:e=>this.service.setVolume(e)})}loadSound(e,o,t=["mp3","ogg","m4a"]){const i={toggle:"toggle",buttonDown:"button",buttonUp:"buttonUp",smallClick:"smallClick",slider:"slider",book:"book"}[e]||e;return this.sounds.set(e,{registryKey:i}),{src:o+".mp3",volume:this.service.volume,addEventListener:()=>{},removeEventListener:()=>{}}}play(e,o=null){const t=this.sounds.get(e),i=t?t.registryKey:e;this.service.play(i,{volume:null!==o?o/this.service.volume:void 0})}setEnabled(e){this.service.setEnabled(e)}setVolume(e){this.service.setVolume(e)}isEnabled(){return this.service.enabled}getVolume(){return this.service.volume}preloadCommonSounds(){this.loadSound("toggle","/media/toggleSound",["mp3","ogg","m4a"]),this.loadSound("buttonDown","/media/button-press-down",["mp3","m4a"]),this.loadSound("buttonUp","/media/button-press-up",["mp3","m4a"]),this.loadSound("smallClick","/media/smallClick",["mp3"]),this.loadSound("slider","/media/slider",["mp3"]),this.loadSound("book","/media/book",["mp3","m4a"]),this.service.preload(["toggle","button","buttonUp","smallClick","slider","book"])}}const soundEffectsCompat=new SoundEffectsCompat;function initializeSoundEffects(){soundEffectsCompat.preloadCommonSounds(),"production"!==process.env.NODE_ENV&&console.info("%c[Sound Service] Using compatibility layer. Consider migrating to new SoundService API.","color: #ff9800; font-weight: bold")}"undefined"!=typeof window&&(window.soundEffects=soundEffectsCompat,window.initializeSoundEffects=initializeSoundEffects,window.playButtonSound=function(){soundService.play("smallClick")},window.playBookSound=function(){soundService.play("book")},window.playSmallClickSound=function(){soundService.play("smallClick")},window.playToggleSound=function(){soundService.play("toggle")},window.playSliderSound=function(){soundService.play("slider")},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeSoundEffects):initializeSoundEffects());export{soundEffectsCompat,initializeSoundEffects};export default soundEffectsCompat;