!function(){"use strict";let e=!1,t=null;function o(){const o=document.getElementById("filtersToggle"),l=document.getElementById("filtersDropdown"),d=document.querySelector(".filters-dropdown-container");o&&l&&(o.addEventListener("click",t=>{t.stopPropagation(),document.getElementById("filtersDropdown"),e?n():function(){const t=document.getElementById("filtersDropdown"),o=document.getElementById("filtersToggle");t.style.display="block",o.classList.add("active"),e=!0,window.soundEffects&&window.soundEffects.play&&window.soundEffects.play("smallClick"),setTimeout(()=>{const e=t.querySelector(".filter-pill");e?.focus()},100)}()}),document.addEventListener("click",t=>{e&&!d.contains(t.target)&&n()}),d.addEventListener("mouseleave",()=>{t=setTimeout(()=>{e&&n()},300)}),d.addEventListener("mouseenter",()=>{t&&(clearTimeout(t),t=null)}),i(),window.addEventListener("portfolio-filters-applied",i),window.addEventListener("portfolio-loaded",i))}function n(){const o=document.getElementById("filtersDropdown"),n=document.getElementById("filtersToggle");o.style.display="none",n.classList.remove("active"),e=!1,t&&(clearTimeout(t),t=null)}function i(){const e=document.querySelector(".filter-count-pip");if(!e)return;let t=0;if(window.portfolioFilters&&window.portfolioFilters.getActiveFilters){const e=window.portfolioFilters.getActiveFilters();for(const[o,n]of e)t+=n.size}t>0?(e.textContent=t,e.style.display="inline-flex"):e.style.display="none"}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.addEventListener("portfolio-loaded",o),document.addEventListener("blog:content-loaded",o)}();